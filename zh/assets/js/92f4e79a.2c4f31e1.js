"use strict";(self.webpackChunkdocusaurus_code=self.webpackChunkdocusaurus_code||[]).push([[5605,3581],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>v});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=c(n),v=o,d=m["".concat(s,".").concat(v)]||m[v]||p[v]||r;return n?a.createElement(d,l(l({ref:t},u),{},{components:n})):a.createElement(d,l({ref:t},u))}));function v(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},90629:(e,t,n)=>{n.d(t,{Z:()=>b});var a=n(80102),o=n(83117),r=n(67294),l=n(93680),i=n(94780),s=n(41796),c=n(90948);const u=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var p=n(71657),m=n(1588),v=n(34867);function d(e){return(0,v.Z)("MuiPaper",e)}(0,m.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var h=n(85893);const k=["className","component","elevation","square","variant"],g=(0,c.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>{var n;return(0,o.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,o.Z)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,s.Fq)("#fff",u(t.elevation))}, ${(0,s.Fq)("#fff",u(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))})),b=r.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiPaper"}),{className:r,component:s="div",elevation:c=1,square:u=!1,variant:m="elevation"}=n,v=(0,a.Z)(n,k),b=(0,o.Z)({},n,{component:s,elevation:c,square:u,variant:m}),f=(e=>{const{square:t,elevation:n,variant:a,classes:o}=e,r={root:["root",a,!t&&"rounded","elevation"===a&&`elevation${n}`]};return(0,i.Z)(r,d,o)})(b);return(0,h.jsx)(g,(0,o.Z)({as:s,ownerState:b,className:(0,l.Z)(f.root,r),ref:t},v))}))},31536:(e,t,n)=>{n.d(t,{Z:()=>E});var a=n(80102),o=n(83117),r=n(67294),l=n(10209),i=n(59766),s=n(94780),c=n(34867);const u=(0,n(70182).ZP)();var p=n(65149),m=n(39707),v=n(66500),d=n(95408),h=n(98700),k=n(85893);const g=["component","direction","spacing","divider","children","className","useFlexGap"],b=(0,v.Z)(),f=u("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function y(e){return(0,p.Z)({props:e,name:"MuiStack",defaultTheme:b})}function Z(e,t){const n=r.Children.toArray(e).filter(Boolean);return n.reduce(((e,a,o)=>(e.push(a),o<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${o}`})),e)),[])}const N=({ownerState:e,theme:t})=>{let n=(0,o.Z)({display:"flex",flexDirection:"column"},(0,d.k9)({theme:t},(0,d.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const a=(0,h.hB)(t),o=Object.keys(t.breakpoints.values).reduce(((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),r=(0,d.P$)({values:e.direction,base:o}),l=(0,d.P$)({values:e.spacing,base:o});"object"==typeof r&&Object.keys(r).forEach(((e,t,n)=>{if(!r[e]){const a=t>0?r[n[t-1]]:"column";r[e]=a}}));const s=(t,n)=>{return e.useFlexGap?{gap:(0,h.NA)(a,t)}:{"& > :not(style) ~ :not(style)":{margin:0,[`margin${o=n?r[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,h.NA)(a,t)}};var o};n=(0,i.Z)(n,(0,d.k9)({theme:t},l,s))}return n=(0,d.dt)(t.breakpoints,n),n};var C=n(90948),x=n(71657);const I=function(e={}){const{createStyledComponent:t=f,useThemeProps:n=y,componentName:i="MuiStack"}=e,u=t(N),p=r.forwardRef((function(e,t){const r=n(e),p=(0,m.Z)(r),{component:v="div",direction:d="column",spacing:h=0,divider:b,children:f,className:y,useFlexGap:N=!1}=p,C=(0,a.Z)(p,g),x={direction:d,spacing:h,useFlexGap:N},I=(0,s.Z)({root:["root"]},(e=>(0,c.Z)(i,e)),{});return(0,k.jsx)(u,(0,o.Z)({as:v,ownerState:x,ref:t,className:(0,l.Z)(I.root,y)},C,{children:b?Z(f,b):f}))}));return p}({createStyledComponent:(0,C.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,x.Z)({props:e,name:"MuiStack"})}),E=I},2734:(e,t,n)=>{n.d(t,{Z:()=>l});n(67294);var a=n(79718),o=n(90247),r=n(10606);function l(){const e=(0,a.Z)(o.Z);return e[r.Z]||e}},20036:(e,t,n)=>{n.d(t,{k:()=>b});var a=n(52263),o=n(94054),r=n(33841),l=n(23599),i=n(90629),s=n(43246),c=n(31536),u=n(61903),p=n(50657),m=n(37645),v=n(6514),d=n(31425),h=n(58951),k=n(83321),g=n(67294);const b=(0,g.memo)((()=>{const[e,t]=(0,g.useState)((()=>({name:"Learning GraphQL",edition:1,price:45,storeId:1,authorIds:[1,2]}))),n=(0,g.useCallback)((e=>{t((t=>({...t,name:e.target.value})))}),[]),b=(0,g.useCallback)((e=>{t((t=>({...t,edition:e.target.valueAsNumber})))}),[]),f=(0,g.useCallback)((e=>{t((t=>({...t,price:e.target.valueAsNumber})))}),[]),y=(0,g.useCallback)((e=>{let n;const a=e.target.value;n="string"==typeof a?parseInt(a):a,-1===n&&(n=void 0),t((e=>({...e,storeId:n})))}),[]),Z=(0,g.useCallback)((e=>{let n=[];console.log(e.target.value);const a=e.target.value;n="string"==typeof a?a.split(",").map((e=>parseInt(e))):a,t((e=>({...e,authorIds:n})))}),[]),{i18n:N}=(0,a.Z)(),C=(0,g.useMemo)((()=>"zh"==N.currentLocale||"zh_cn"==N.currentLocale||"zh_CN"==N.currentLocale),[N.currentLocale]),[x,I]=(0,g.useState)(!1),E=(0,g.useCallback)((()=>{I(!0)}),[]),j=(0,g.useCallback)((()=>{I(!1)}),[]);return g.createElement(i.Z,{elevation:3,style:{padding:"1.5rem",width:500}},g.createElement(c.Z,{spacing:2},g.createElement("h1",null,"Book Form"),g.createElement(u.Z,{label:"Name",value:e.name,onChange:n,error:""===e.name,helperText:""===e.name?"Name is required":""}),g.createElement(u.Z,{label:"Edition",type:"number",value:e.edition,onChange:b}),g.createElement(u.Z,{label:"Price",type:"number",value:e.price,onChange:f}),g.createElement(o.Z,{fullWidth:!0},g.createElement(r.Z,{id:"store-select-label"},"Store"),g.createElement(s.Z,{labelId:"store-select-label",label:"Authors",value:e.storeId,onChange:y},g.createElement(l.Z,{value:-1},"--NONE--"),g.createElement(l.Z,{value:1},"O'REILLY"),g.createElement(l.Z,{value:2},"MANNING"))),g.createElement(o.Z,{fullWidth:!0},g.createElement(r.Z,{id:"author-multi-select-label"},"Authors"),g.createElement(s.Z,{multiple:!0,labelId:"author-multi-select-label",label:"Authors",value:e.authorIds,onChange:Z},g.createElement(l.Z,{value:1},"Eve Procello"),g.createElement(l.Z,{value:2},"Alex Banks"),g.createElement(l.Z,{value:3},"Dan Vanderkam"),g.createElement(l.Z,{value:4},"Boris Cherny"),g.createElement(l.Z,{value:5},"Samer Buna"))),g.createElement(o.Z,null,g.createElement(k.Z,{onClick:E,variant:"contained"},C?"\u63d0\u4ea4":"Submit"))),g.createElement(p.Z,{open:x,onClose:j},g.createElement(m.Z,null,C?"\u4fe1\u606f":"Info"),g.createElement(v.Z,null,g.createElement(h.Z,null,C?"\u4ec5\u4f5c\u793a\u8303\uff0c\u65e0\u4efb\u4f55\u6548\u679c":"For demonstration only, without any effect")),g.createElement(d.Z,null,g.createElement(k.Z,{onClick:j},"\u5173\u95ed"))))}))},26329:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>u,toc:()=>m});var a=n(83117),o=(n(67294),n(3905)),r=n(65488),l=n(85162),i=n(20036);const s={sidebar_position:2,title:"\u4fdd\u5b58\u77ed\u5173\u8054"},c=void 0,u={unversionedId:"quick-view/save/export/short",id:"quick-view/save/export/short",title:"\u4fdd\u5b58\u77ed\u5173\u8054",description:"\u4f55\u8c13\u77ed\u5173\u8054",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/quick-view/save/export/short.mdx",sourceDirName:"quick-view/save/export",slug:"/quick-view/save/export/short",permalink:"/jimmer-doc/zh/docs/quick-view/save/export/short",draft:!1,editUrl:"https://github.com/babyfish-ct/jimmer-doc/tree/main/docs/quick-view/save/export/short.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"\u4fdd\u5b58\u77ed\u5173\u8054"},sidebar:"tutorialSidebar",previous:{title:"\u4fdd\u5b58\u805a\u5408\u6839",permalink:"/jimmer-doc/zh/docs/quick-view/save/export/root"},next:{title:"\u4fdd\u5b58\u957f\u5173\u8054",permalink:"/jimmer-doc/zh/docs/quick-view/save/export/long"}},p={},m=[{value:"\u4f55\u8c13\u77ed\u5173\u8054",id:"\u4f55\u8c13\u77ed\u5173\u8054",level:2},{value:"\u5b9a\u4e49Input DTO",id:"\u5b9a\u4e49input-dto",level:2},{value:"\u751f\u6210\u7684\u4ee3\u7801",id:"\u751f\u6210\u7684\u4ee3\u7801",level:2},{value:"\u7f16\u5199HTTP\u670d\u52a1",id:"\u7f16\u5199http\u670d\u52a1",level:2}],v={toc:m};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\u4f55\u8c13\u77ed\u5173\u8054"},"\u4f55\u8c13\u77ed\u5173\u8054"),(0,o.kt)("p",null,"\u6240\u8c13\u77ed\u5173\u8054\uff0c\u6307\u53ea\u6539\u53d8\u5f53\u524d\u5bf9\u8c61\u548c\u5176\u4ed6\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u4e0d\u8fdb\u4e00\u6b65\u4fee\u6539\u5173\u8054\u5bf9\u8c61\u3002"),(0,o.kt)("p",null,"\u5bf9\u4e8eUI\u754c\u9762\u800c\u8a00"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u5f15\u7528\u5173\u8054 ",(0,o.kt)("em",{parentName:"p"},"(\u4e00\u5bf9\u4e00\u548c\u591a\u5bf9\u4e00)")," \u8868\u73b0\u4e3a\u5355\u9009\u83dc\u5355")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u96c6\u5408\u5173\u8054 ",(0,o.kt)("em",{parentName:"p"},"(\u4e00\u5bf9\u591a\u548c\u591a\u5bf9\u591a)")," \u8868\u73b0\u4e3a\u591a\u9009\u83dc\u5355"))),(0,o.kt)("p",null,"\u4f8b\u5982\uff1a"),(0,o.kt)(i.k,{mdxType:"ShortAssociation"}),(0,o.kt)("h2",{id:"\u5b9a\u4e49input-dto"},"\u5b9a\u4e49Input DTO"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u5b89\u88c5DTO\u8bed\u8a00Intellij\u63d2\u4ef6\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ClearPlume/jimmer-dto"},"https://github.com/ClearPlume/jimmer-dto")," ",(0,o.kt)("em",{parentName:"p"},"\uff08\u6b64\u8fc7\u7a0b\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u4f46\u975e\u5e38\u63a8\u8350\uff09"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u65b0\u5efa\u76ee\u5f55",(0,o.kt)("inlineCode",{parentName:"p"},"src/main/dto"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\u5728",(0,o.kt)("inlineCode",{parentName:"p"},"src/main/dto"),"\u4e0b\u5efa\u7acb\u4e00\u4e2a\u6587\u4ef6",(0,o.kt)("inlineCode",{parentName:"p"},"Book.dto"),"\uff0c\u7f16\u5199\u4ee3\u7801\u5982\u4e0b"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-sh",metastring:'title="Book.dto"',title:'"Book.dto"'},"input BookInputWithShortAssociations {\n    #allScalars(this)\n    #highlight-next-line\n    id(store) //\u9ed8\u8ba4\u522b\u540dstoreId\n    #highlight-next-line\n    id(authors) as authorIds\n}\n")))),(0,o.kt)("h2",{id:"\u751f\u6210\u7684\u4ee3\u7801"},"\u751f\u6210\u7684\u4ee3\u7801"),(0,o.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookInputWithShortAssociations.java"',title:'"BookInputWithShortAssociations.java"'},'@GeneratedBy(\n        file = "<yourproject>/src/main/dto/Book.dto"\n)\npublic class BookInputWithShortAssociations implements Input<Book> {\n\n    @Nullable\n    private Long id;\n\n    @NotNull\n    private String name;\n\n    private int edition;\n\n    @NotNull\n    private BigDecimal price;\n\n    @Nullable\n    // highlight-next-line\n    private Long storeId;\n\n    @NotNull\n    // highlight-next-line\n    private List<Long> authorIds;\n\n    ...\u7701\u7565\u5176\u4ed6\u65b9\u6cd5...\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookInputWithShortAssociations.kt"',title:'"BookInputWithShortAssociations.kt"'},'@GeneratedBy(\n        file = "<yourproject>/src/main/dto/Book.dto"\n)\ndata class BookInputWithShortAssociations(\n    val id: Long?,\n    val name: String,\n    val edition: Int,\n    val price: BigDecimal,\n    // highlight-next-line\n    val storeId: Long?\n    // highlight-next-line\n    val authorIds: List<Long>\n) : Input<Book> {\n    ...\u7701\u7565\u5176\u4ed6\u65b9\u6cd5...\n}\n')))),(0,o.kt)("h2",{id:"\u7f16\u5199http\u670d\u52a1"},"\u7f16\u5199HTTP\u670d\u52a1"),(0,o.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookController.java"',title:'"BookController.java"'},'@RestController\npublic class BookController {\n\n    private final JSqlClient sqlClient;\n\n    public BookController(JSqlClient sqlClient) {\n        this.sqlClient = sqlClient;\n    } \n\n    @PutMapping("/book")\n    pubic int saveBookInputWithShortAssociations(\n        // highlight-next-line\n        @RequestBody BookInputWithShortAssociations input\n    ) {\n        return sqlClient\n            .save(input)\n            .getTotoalAffectedRowCount();\n    }\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookController.java"',title:'"BookController.java"'},'class BookController(\n    private val sqlClient: KSqlClient\n) {\n\n    @PutMapping("/book")\n    fun saveBookInputWithShortAssociations(\n        // highlight-next-line\n        @RequestBody input: BookInputWithShortAssociations\n    ): Int =\n        sqlClient\n            .save(input)\n            .totoalAffectedRowCount\n}\n')))),(0,o.kt)("p",null,"\u53ef\u89c1\uff0c\u65e0\u8bbaInput DTO\u5982\u4f55\u6539\u53d8\uff0cJimmer\u4ecd\u7136\u53ea\u9700\u4e00\u4e2a\u65b9\u6cd5\u8c03\u7528\u5373\u53ef\u5b8c\u6210\u6570\u636e\u4fdd\u5b58\u3002"))}d.isMDXComponent=!0}}]);