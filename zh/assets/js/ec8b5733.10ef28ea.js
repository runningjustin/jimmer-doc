"use strict";(self.webpackChunkdocusaurus_code=self.webpackChunkdocusaurus_code||[]).push([[7027],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),c=u(n),k=r,d=c["".concat(i,".").concat(k)]||c[k]||s[k]||o;return n?a.createElement(d,l(l({ref:t},m),{},{components:n})):a.createElement(d,l({ref:t},m))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=c;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p.mdxType="string"==typeof e?e:r,l[1]=p;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},31536:(e,t,n)=>{n.d(t,{Z:()=>M});var a=n(80102),r=n(83117),o=n(67294),l=n(10209),p=n(59766),i=n(94780),u=n(34867);const m=(0,n(70182).ZP)();var s=n(65149),c=n(39707),k=n(66500),d=n(95408),g=n(98700),v=n(85893);const h=["component","direction","spacing","divider","children","className","useFlexGap"],N=(0,k.Z)(),b=m("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function I(e){return(0,s.Z)({props:e,name:"MuiStack",defaultTheme:N})}function f(e,t){const n=o.Children.toArray(e).filter(Boolean);return n.reduce(((e,a,r)=>(e.push(a),r<n.length-1&&e.push(o.cloneElement(t,{key:`separator-${r}`})),e)),[])}const y=({ownerState:e,theme:t})=>{let n=(0,r.Z)({display:"flex",flexDirection:"column"},(0,d.k9)({theme:t},(0,d.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const a=(0,g.hB)(t),r=Object.keys(t.breakpoints.values).reduce(((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),o=(0,d.P$)({values:e.direction,base:r}),l=(0,d.P$)({values:e.spacing,base:r});"object"==typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const a=t>0?o[n[t-1]]:"column";o[e]=a}}));const i=(t,n)=>{return e.useFlexGap?{gap:(0,g.NA)(a,t)}:{"& > :not(style) ~ :not(style)":{margin:0,[`margin${r=n?o[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]}`]:(0,g.NA)(a,t)}};var r};n=(0,p.Z)(n,(0,d.k9)({theme:t},l,i))}return n=(0,d.dt)(t.breakpoints,n),n};var B=n(90948),j=n(71657);const T=function(e={}){const{createStyledComponent:t=b,useThemeProps:n=I,componentName:p="MuiStack"}=e,m=t(y),s=o.forwardRef((function(e,t){const o=n(e),s=(0,c.Z)(o),{component:k="div",direction:d="column",spacing:g=0,divider:N,children:b,className:I,useFlexGap:y=!1}=s,B=(0,a.Z)(s,h),j={direction:d,spacing:g,useFlexGap:y},T=(0,i.Z)({root:["root"]},(e=>(0,u.Z)(p,e)),{});return(0,v.jsx)(m,(0,r.Z)({as:k,ownerState:j,ref:t,className:(0,l.Z)(T.root,I)},B,{children:N?f(b,N):b}))}));return s}({createStyledComponent:(0,B.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,j.Z)({props:e,name:"MuiStack"})}),M=T},20036:(e,t,n)=>{n.d(t,{k:()=>N});var a=n(52263),r=n(94054),o=n(33841),l=n(23599),p=n(90629),i=n(43246),u=n(31536),m=n(61903),s=n(50657),c=n(37645),k=n(6514),d=n(31425),g=n(58951),v=n(83321),h=n(67294);const N=(0,h.memo)((()=>{const[e,t]=(0,h.useState)((()=>({name:"Learning GraphQL",edition:1,price:45,storeId:1,authorIds:[1,2]}))),n=(0,h.useCallback)((e=>{t((t=>({...t,name:e.target.value})))}),[]),N=(0,h.useCallback)((e=>{t((t=>({...t,edition:e.target.valueAsNumber})))}),[]),b=(0,h.useCallback)((e=>{t((t=>({...t,price:e.target.valueAsNumber})))}),[]),I=(0,h.useCallback)((e=>{let n;const a=e.target.value;n="string"==typeof a?parseInt(a):a,-1===n&&(n=void 0),t((e=>({...e,storeId:n})))}),[]),f=(0,h.useCallback)((e=>{let n=[];console.log(e.target.value);const a=e.target.value;n="string"==typeof a?a.split(",").map((e=>parseInt(e))):a,t((e=>({...e,authorIds:n})))}),[]),{i18n:y}=(0,a.Z)(),B=(0,h.useMemo)((()=>"zh"==y.currentLocale||"zh_cn"==y.currentLocale||"zh_CN"==y.currentLocale),[y.currentLocale]),[j,T]=(0,h.useState)(!1),M=(0,h.useCallback)((()=>{T(!0)}),[]),O=(0,h.useCallback)((()=>{T(!1)}),[]);return h.createElement(p.Z,{elevation:3,style:{padding:"1.5rem",width:500}},h.createElement(u.Z,{spacing:2},h.createElement("h1",null,"Book Form"),h.createElement(m.Z,{label:"Name",value:e.name,onChange:n,error:""===e.name,helperText:""===e.name?"Name is required":""}),h.createElement(m.Z,{label:"Edition",type:"number",value:e.edition,onChange:N}),h.createElement(m.Z,{label:"Price",type:"number",value:e.price,onChange:b}),h.createElement(r.Z,{fullWidth:!0},h.createElement(o.Z,{id:"store-select-label"},"Store"),h.createElement(i.Z,{labelId:"store-select-label",label:"Authors",value:e.storeId,onChange:I},h.createElement(l.Z,{value:-1},"--NONE--"),h.createElement(l.Z,{value:1},"O'REILLY"),h.createElement(l.Z,{value:2},"MANNING"))),h.createElement(r.Z,{fullWidth:!0},h.createElement(o.Z,{id:"author-multi-select-label"},"Authors"),h.createElement(i.Z,{multiple:!0,labelId:"author-multi-select-label",label:"Authors",value:e.authorIds,onChange:f},h.createElement(l.Z,{value:1},"Eve Procello"),h.createElement(l.Z,{value:2},"Alex Banks"),h.createElement(l.Z,{value:3},"Dan Vanderkam"),h.createElement(l.Z,{value:4},"Boris Cherny"),h.createElement(l.Z,{value:5},"Samer Buna"))),h.createElement(r.Z,null,h.createElement(v.Z,{onClick:M,variant:"contained"},B?"\u63d0\u4ea4":"Submit"))),h.createElement(s.Z,{open:j,onClose:O},h.createElement(c.Z,null,B?"\u4fe1\u606f":"Info"),h.createElement(k.Z,null,h.createElement(g.Z,null,B?"\u4ec5\u4f5c\u793a\u8303\uff0c\u65e0\u4efb\u4f55\u6548\u679c":"For demonstration only, without any effect")),h.createElement(d.Z,null,h.createElement(v.Z,{onClick:O},"\u5173\u95ed"))))}))},32102:(e,t,n)=>{n.d(t,{s:()=>g});var a=n(83117),r=n(67294),o=n(42293),l=n(50657),p=n(6514),i=n(54776),u=n(10155),m=n(15861),s=n(93946),c=n(9137),k=n(61274),d=n(50594);const g=(0,r.memo)((e=>{let{open:t,fullScreen:n=!1,title:a,maxWidth:i="md",onClose:g,children:h}=e;const[N,b]=(0,r.useState)(n),I=(0,r.useCallback)((()=>{b((e=>!e))}),[]);return r.createElement(l.Z,{open:t,onClose:g,fullScreen:N,TransitionComponent:v,maxWidth:i},r.createElement(o.Z,{sx:{position:"relative"}},r.createElement(u.Z,null,r.createElement(m.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},a),r.createElement(s.Z,{onClick:I,style:{color:"white"}},N?r.createElement(k.Z,null):r.createElement(c.Z,null)),r.createElement(s.Z,{"aria-label":"close",onClick:g,style:{color:"white"}},r.createElement(d.Z,null)))),r.createElement(p.Z,null,h))})),v=r.forwardRef((function(e,t){return r.createElement(i.Z,(0,a.Z)({direction:"up",ref:t},e))}))},39511:(e,t,n)=>{n.d(t,{b:()=>l});var a=n(67294),r=n(83321),o=n(32102);const l=(0,a.memo)((e=>{let{buttonText:t,fullScreen:n=!1,title:l=t,variant:p="outlined",maxWidth:i,useOriginalText:u=!0,children:m}=e;const[s,c]=(0,a.useState)(!1),k=(0,a.useCallback)((e=>{c(!0),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),[]),d=(0,a.useCallback)((()=>{c(!1)}),[]),g=u?{textTransform:"none"}:{};return a.createElement(a.Fragment,null,a.createElement(r.Z,{"data-is-view-more-button":"true",onClick:k,variant:p,size:"small",style:g},t),a.createElement(o.s,{open:s,onClose:d,title:l,maxWidth:i,fullScreen:n},m))}))},70438:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>m,default:()=>g,frontMatter:()=>u,metadata:()=>s,toc:()=>k});var a=n(83117),r=(n(67294),n(3905)),o=n(65488),l=n(85162),p=n(20036),i=n(39511);const u={sidebar_position:2,title:"MapStruct"},m=void 0,s={unversionedId:"object/view/mapstruct",id:"object/view/mapstruct",title:"MapStruct",description:"\u7b80\u4ecb",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/object/view/mapstruct.mdx",sourceDirName:"object/view",slug:"/object/view/mapstruct",permalink:"/jimmer-doc/zh/docs/object/view/mapstruct",draft:!1,editUrl:"https://github.com/babyfish-ct/jimmer-doc/tree/main/docs/object/view/mapstruct.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"MapStruct"},sidebar:"tutorialSidebar",previous:{title:"DTO\u8bed\u8a00",permalink:"/jimmer-doc/zh/docs/object/view/dto-language"},next:{title:"\u53ef\u89c1\u6027",permalink:"/jimmer-doc/zh/docs/object/visibility"}},c={},k=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:3},{value:"\u4f18\u70b9",id:"\u4f18\u70b9",level:3},{value:"\u7f3a\u70b9",id:"\u7f3a\u70b9",level:3},{value:"\u4f9d\u8d56\u548c\u9884\u7f16\u8bd1\u5668",id:"\u4f9d\u8d56\u548c\u9884\u7f16\u8bd1\u5668",level:2},{value:"\u5b9a\u4e49POJO",id:"\u5b9a\u4e49pojo",level:2},{value:"\u5b9a\u4e49Mappper",id:"\u5b9a\u4e49mappper",level:2},{value:"\u5982\u679c\u5b9e\u4f53\u5b9a\u4e49\u4e86@IdView\u5c5e\u6027",id:"\u5982\u679c\u5b9e\u4f53\u5b9a\u4e49\u4e86idview\u5c5e\u6027",level:3},{value:"\u5982\u679c\u5b9e\u4f53\u672a\u5b9a\u4e49@IdView\u5c5e\u6027",id:"\u5982\u679c\u5b9e\u4f53\u672a\u5b9a\u4e49idview\u5c5e\u6027",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:2},{value:"\u8ba9POJO\u5b9e\u73b0Input\u63a5\u53e3",id:"\u8ba9pojo\u5b9e\u73b0input\u63a5\u53e3",level:2}],d={toc:k};function g(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),(0,r.kt)("p",null,"Jimmer\u62d3\u5c55\u4e86",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"MapStruct"),"\uff0c\u652f\u6301\u4f7f\u7528mapstruct\u6765\u5b8c\u6210Jimmer\u52a8\u6001\u5b9e\u4f53\u5bf9\u8c61\u548c\u9759\u6001DTO\u5bf9\u8c61\u4e4b\u95f4\u7684\u76f8\u4e92\u8f6c\u5316\u3002"),(0,r.kt)("h3",{id:"\u6ce8\u610f\u4e8b\u9879"},"\u6ce8\u610f\u4e8b\u9879"),(0,r.kt)("p",null,"Jimmer\u7684\u5b9e\u4f53\u5bf9\u8c61\u662f\u52a8\u6001\u7684 ",(0,r.kt)("em",{parentName:"p"},"(\u548cHibernate3\u5f15\u5165\u7684\u6807\u91cf\u5c5e\u6027\u60f0\u6027\u5316\u6bd4\u8f83\u7c7b\u4f3c)"),"\uff0c\u8fd9\u662f\u8f83\u65e9\u7684",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"MapStruct"),"\u672a\u66fe\u8003\u8651\u8fc7\u7684\u6a21\u5f0f\u3002"),(0,r.kt)("p",null,"\u548c",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"MapStruct"),"\u4ea4\u6d41\u540e\uff0c",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"MapStruct"),"\u4f1a\u4ece",(0,r.kt)("inlineCode",{parentName:"p"},"1.6.0"),"\u5f00\u59cb\u652f\u6301\u8fd9\u79cd\u884c\u4e3a\u3002"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"\u56e0\u6b64\uff0c\u8bf7\u5c3d\u53ef\u80fd\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"1.6.0"),"\u6216\u66f4\u9ad8\u7248\u672c\u7684",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"MapStruct"),"\u3002")),(0,r.kt)("h3",{id:"\u4f18\u70b9"},"\u4f18\u70b9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u548c\u8ffd\u6c42\u5feb\u901f\u5f00\u53d1\u4f46\u652f\u6301\u56fa\u5b9a\u8f6c\u5316\u903b\u8f91\u7684",(0,r.kt)("a",{parentName:"p",href:"./dto-language"},"DTO\u8bed\u8a00"),"\u4e0d\u540c\uff0c",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"mapstruct"),"\u53ef\u4ee5\u5b9e\u73b0\u4efb\u610f\u590d\u6742\u7684\u8f6c\u5316\u903b\u8f91\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u548c",(0,r.kt)("a",{parentName:"p",href:"./dto-language"},"DTO\u8bed\u8a00"),"\u76f4\u63a5\u751f\u6210\u5168\u65b0\u7684DTO\u7c7b\u578b\u4e0d\u540c\uff0c",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"mapstruct"),"\u53ef\u4ee5\u6574\u5408\u73b0\u6709\u7684DTO\u7c7b\u578b\u3002"))),(0,r.kt)("h3",{id:"\u7f3a\u70b9"},"\u7f3a\u70b9"),(0,r.kt)("p",null,"\u66f4\u63a8\u8350\u4f7f\u7528",(0,r.kt)("a",{parentName:"p",href:"./dto-language"},"DTO\u8bed\u8a00"),"\uff0c\u539f\u56e0\u5982\u4e0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0d\u53ef\u5ffd\u7565\u7684\u5f00\u53d1\u6210\u672c"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"./dto-language"},"DTO\u8bed\u8a00"),"\u4e3aJimmer\u91cf\u8eab\u5b9a\u5236\u7684\u65b9\u6848\uff0c\u5f00\u53d1\u6548\u7387\u662f\u7ed3\u5408\u5176\u4ed6\u4efb\u4f55\u6280\u672f\u65b9\u6848\u65e0\u6cd5\u6bd4\u62df\u7684\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0d\u592a\u9002\u5408Output DTO"),(0,r.kt)("p",{parentName:"li"},"DTO\u8bed\u8a00\u81ea\u52a8\u751f\u6210\u7684DTO\u7c7b\u578b\u5177\u5907\u5185\u7f6e\u7684",(0,r.kt)("a",{parentName:"p",href:"../../query/object-fetcher"},"\u5bf9\u8c61\u6293\u53d6\u5668"),"\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f5c\u4e3a\u67e5\u8be2\u7684\u8f93\u51fa\u7c7b\u578b ",(0,r.kt)("em",{parentName:"p"},"(\u867d\u7136\u4e0d\u63a8\u8350)"),"\uff0c\u8bf7\u53c2\u89c1\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"../../query/object-fetcher/dto"},"\u5bf9\u8c61\u6293\u53d6\u5668/DTO\u67e5\u8be2"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"../../spring/repository/dto"},"Spring Data/\u67e5\u8be2DTO")))),(0,r.kt)("p",{parentName:"li"},"\u7136\u800c\uff0c\u624b\u52a8\u5b9a\u4e49\u7684DTO\u7c7b\u578b\u6ca1\u6709\u5bf9\u5e94\u7684",(0,r.kt)("a",{parentName:"p",href:"../../query/object-fetcher"},"\u5bf9\u8c61\u6293\u53d6\u5668"),"\u5b9a\u4e49\uff0c\u53ea\u652f\u6301\u548c\u52a8\u6001\u5b9e\u4f53\u76f8\u4e92\u8f6c\u5316\u3002\n\u867d\u7136\u53ef\u4ee5\u4e3a\u6b64\u624b\u52a8\u5b9a\u4e49",(0,r.kt)("a",{parentName:"p",href:"../../query/object-fetcher"},"\u5bf9\u8c61\u6293\u53d6\u5668"),"\uff0c\u4f46\u662f\u5b58\u5728DTO\u548c",(0,r.kt)("a",{parentName:"p",href:"../../query/object-fetcher"},"\u5bf9\u8c61\u6293\u53d6\u5668"),"\u5f62\u72b6\u4e0d\u4e00\u81f4\u7684\u98ce\u9669\u3002\n\u6240\u4ee5\uff0c\u4e0d\u9002\u5408\u4f5c\u4e3aOutput DTO\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Kotlin\u98ce\u9669"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/"},"mapstruct"),"\u662f\u57fa\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"apt"),(0,r.kt)("em",{parentName:"p"},"(Annotation Processor)")," \u7684\u3002"),(0,r.kt)("p",{parentName:"li"},"\u56e0\u6b64\uff0c\u8fd9\u9700\u8981\u5728kotlin\u4e2d\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"kapt"),"\uff0c\u8fd9\u4f1a\u660e\u663e\u964d\u4f4ekotlin\u9879\u76ee\u7684\u7f16\u8bd1\u901f\u5ea6\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Kotlin\u5df2\u7ecf\u5e9f\u5f03\u4e86",(0,r.kt)("a",{parentName:"p",href:"https://kotlinlang.org/docs/kapt.html"},"kapt"),"\uff0c\u800c\u4e3b\u5f20\u4f7f\u7528",(0,r.kt)("a",{parentName:"p",href:"https://kotlinlang.org/docs/ksp-overview.html"},"ksp"),"\u3002"),(0,r.kt)("p",{parentName:"li"},"\u56e0\u6b64\uff0c\u968f\u7740Kotlin\u7684\u6f14\u5316\uff0c\u672a\u6765\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"kapt"),"\u53ef\u80fd\u4f1a\u9047\u5230\u95ee\u9898\u3002"))))),(0,r.kt)("h2",{id:"\u4f9d\u8d56\u548c\u9884\u7f16\u8bd1\u5668"},"\u4f9d\u8d56\u548c\u9884\u7f16\u8bd1\u5668"),(0,r.kt)("p",null,"\u5bf9\u4e8e\u5c06\u9759\u6001POJO\u8f6c\u5316\u4e3aJimmer\u52a8\u6001\u5bf9\u8c61\u800c\u8a00\uff0cMapStruct\u5e76\u4e0d\u77e5\u9053\u8be5\u5982\u4f55\u6784\u5efaJimmer\u5bf9\u8c61\u3002\u56e0\u6b64"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Jimmer\u672c\u8eab\u7684\u9884\u7f16\u8bd1\u5668 ",(0,r.kt)("em",{parentName:"p"},"(Java\u7684",(0,r.kt)("inlineCode",{parentName:"em"},"jimmer-apt"),"\u6216Kotlin\u7684",(0,r.kt)("inlineCode",{parentName:"em"},"jimmer-ksp"),")")," \u5728Draft\u4e2d\u751f\u6210\u4e86\u4e00\u4e2a\u4e00\u4e9b\u9762\u5411MapStruct\u7684\u4ee3\u7801\uff0c\u8ba9MapStruct\u53ef\u4ee5\u901a\u8fc7\u5176",(0,r.kt)("a",{parentName:"p",href:"https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders"},"Builder"),"\u6a21\u5f0f\u6784\u5efaJimmer\u5bf9\u8c61\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Jimmer\u6269\u5c55\u4e86MapStruct\u7684Annotation Processor\uff0c\u8be5\u6269\u5c55\u8ba9MapStruct\u5229\u7528\u751f\u6210\u7684Draft\u4e2d\u4e3aMapStruct\u9884\u7559\u7684\u80fd\u529b\u6784\u5efaJimmer\u5bf9\u8c61\u3002"),(0,r.kt)("p",{parentName:"li"},"\u8fd9\u4e2a\u6269\u5c55\u53eb\u505a",(0,r.kt)("inlineCode",{parentName:"p"},"jimmer-mapstruct-apt")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5bf9\u4e8eJava\u800c\u8a00\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"jimmer-mapstruct-apt"),"\u88ab",(0,r.kt)("inlineCode",{parentName:"p"},"jimmer-apt"),"\u6240\u5305\u542b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5bf9\u4e8eKotlin\u800c\u8a00\uff0c\u9700\u540c\u65f6\u5728maven\u6216gradle\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"jimmer-ksp"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"jimmer-mapstruct-apt"),"\u3002\u5982\u679c\u4f7f\u7528Gradle\u63d2\u4ef6\uff0c\u5f53\u4f60\u5f15\u5165\u4e86MapStruct\u7684kapt\u4f9d\u8d56\u65f6\uff0c\u63d2\u4ef6\u4f1a\u81ea\u52a8\u5f15\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"jimmer-mapstruct-apt"),"\u7684\u4f9d\u8d56\u3002"))))),(0,r.kt)(o.Z,{groupId:"buildTool",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java_maven",label:"Java(Maven)",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="pom.xml"',title:'"pom.xml"'},"...\u7701\u7565\u5176\u4ed6\u4ee3\u7801...\n\n<build>\n    <dependencies>\n        <dependency> \u2780\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <version>${lombok.version}</version>\n        </dependency>\n        <dependency> \u278a\n            <groupId>org.mapstruct</groupId>\n            <artifactId>mapstruct</artifactId>\n            <version>${mapstruct.version}</version>\n        </dependency>\n        ...\u7701\u7565\u5176\u4ed6\u4f9d\u8d56...\n    </dependencies>\n    <plugins>\n        <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-compiler-plugin</artifactId>\n            <version>3.10.1</version>\n            <configuration>\n                <annotationProcessorPaths>\n                    <path> \u2781\n                        <groupId>org.projectlombok</groupId>\n                        <artifactId>lombok</artifactId>\n                        <version>${lombok.version}</version>\n                    </path>\n                    <path> \u278b\n                        <groupId>org.babyfish.jimmer</groupId>\n                        <artifactId>jimmer-apt</artifactId>\n                        <version>${jimmer.version}</version>\n                    </path>\n                    <path> \u278c\n                        <groupId>org.mapstruct</groupId>\n                        <artifactId>mapstruct-processor</artifactId>\n                        <version>${mapstruct.version}</version>\n                    </path>\n                </annotationProcessorPaths>\n            </configuration>\n        </plugin>\n    </plugins>\n</build>\n\n...\u7701\u7565\u5176\u4ed6\u4ee3\u7801...\n"))),(0,r.kt)(l.Z,{value:"java_gradle_plugin",label:"Java(Gradle\u63d2\u4ef6)",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-groovy",metastring:'title="build.gradle"',title:'"build.gradle"'},'plugins {\n    id "tech.argonariod.gradle-plugin-jimmer" version "latest.release"\n\n    ...\u7701\u7565\u5176\u4ed6\u63d2\u4ef6...\n}\n\njimmer {\n    version = "${jimmerVersion}"\n\n    ...\u7701\u7565\u5176\u4ed6\u914d\u7f6e...\n}\n\ndependencies {\n\n    implementation "org.projectlombok:lombok:${lombok.version}" \u2780\n    implementation "org.mapstruct:mapstruct:${mapstructVersion}" \u278a\n\n    annotationProcessor "org.projectlombok:lombok:${lombok.version}" \u2781\n    annotationProcessor "org.mapstruct:mapstruct-processor:${mapstructVersion}" \u278d\n    \n    // \u4e0d\u9700\u8981\u624b\u52a8\u6dfb\u52a0 org.babyfish.jimmer:jimmer-apt \u7684\u4f9d\u8d56\n    // \u68c0\u6d4b\u5230 mapstruct-processor \u65f6\uff0c\u63d2\u4ef6\u4f1a\u81ea\u52a8\u6dfb\u52a0\u8be5\u4f9d\u8d56\n\n    ...\u7701\u7565\u5176\u4ed6\u4f9d\u8d56...\n}\n'))),(0,r.kt)(l.Z,{value:"java_gradle",label:"Java(Gradle)",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-groovy",metastring:'title="build.gradle"',title:'"build.gradle"'},'dependencies {\n    \n    implementation "org.projectlombok:lombok:${lombok.version}" \u2780\n    implementation "org.mapstruct:mapstruct:${mapstructVersion}" \u278a\n\n    annotationProcessor "org.projectlombok:lombok:${lombok.version}" \u2781\n    annotationProcessor "org.babyfish.jimmer:jimmer-apt:${jimmerVersion}" \u278b\n    annotationProcessor "org.mapstruct:mapstruct-processor:${mapstructVersion}" \u278c\n\n    ...\u7701\u7565\u5176\u4ed6\u4f9d\u8d56...\n}\n'))),(0,r.kt)(l.Z,{value:"kotlin_maven",label:"Kotlin(Maven)",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="pom.xml"',title:'"pom.xml"'},"...\u7701\u7565\u5176\u4ed6\u4ee3\u7801...\n\n<build>\n    <sourceDirectory>src/main/kotlin</sourceDirectory>\n    <testSourceDirectory>src/test/kotlin</testSourceDirectory>\n\n    <dependencies>\n        <dependency> \u278a\n            <groupId>org.mapstruct</groupId>\n            <artifactId>mapstruct</artifactId>\n            <version>${mapstruct.version}</version>\n        </dependency>\n        ...\u7701\u7565\u5176\u4ed6\u4f9d\u8d56...\n    </dependencies>\n\n    <plugins>\n        <plugin>\n            <groupId>org.jetbrains.kotlin</groupId>\n            <artifactId>kotlin-maven-plugin</artifactId>\n            <version>${kotlin.version}</version>\n            <executions>\n                <execution>\n                    <id>compile</id>\n                    <phase>compile</phase>\n                    <goals>\n                        <goal>compile</goal>\n                    </goals>\n                </execution>\n                <execution>\n                    <id>test-compile</id>\n                    <phase>test-compile</phase>\n                    <goals>\n                        <goal>test-compile</goal>\n                    </goals>\n                </execution>\n            </executions>\n            <configuration>\n                <compilerPlugins>\n                    <compilerPlugin>ksp</compilerPlugin>\n                </compilerPlugins>\n                <annotationProcessorPaths>\n                    <path>\n                        <groupId>org.mapstruct</groupId> \u278c\n                        <artifactId>mapstruct-processor</artifactId>\n                        <version>${mapstruct.version}</version>\n                    </path>\n                    <path>\n                        <groupId>org.babyfish.jimmer</groupId> \u24d0\n                        <artifactId>jimmer-mapstruct-apt</artifactId>\n                        <version>${jimmer.version}</version>\n                    </path>\n                </annotationProcessorPaths>\n            </configuration>\n            <dependencies>\n                <dependency>\n                    <groupId>com.dyescape</groupId>\n                    <artifactId>kotlin-maven-symbol-processing</artifactId>\n                    <version>1.3</version>\n                </dependency>\n                <dependency>\n                    <groupId>org.babyfish.jimmer</groupId> \u278b\n                    <artifactId>jimmer-ksp</artifactId>\n                    <version>${jimmer.version}</version>\n                </dependency>\n            </dependencies>\n        </plugin>\n    </plugins>\n</build>\n\n...\u7701\u7565\u5176\u4ed6\u4ee3\u7801...\n"))),(0,r.kt)(l.Z,{value:"kotlin_gradle_plugin",label:"Kotlin(Gradle\u63d2\u4ef6)",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},'plugins {\n    id("tech.argonariod.gradle-plugin-jimmer") version "latest.release"\n    id("com.google.devtools.ksp") version "1.7.10+"\n    kotlin("kapt") version "1.7.10"\n\n    ...\u7701\u7565\u5176\u4ed6\u63d2\u4ef6...\n}\n\njimmer {\n    version = "${jimmerVersion}"\n\n    ...\u7701\u7565\u5176\u4ed6\u914d\u7f6e...\n}\n\ndependencies {\n    \n    implementation("org.mapstruct:mapstruct:${mapstructVersion}") \u278a\n    kapt("org.mapstruct:mapstruct-processor:${mapstructVersion}") \u278c\n\n    ...\u7701\u7565\u5176\u4ed6\u4f9d\u8d56...\n}\n'))),(0,r.kt)(l.Z,{value:"kotlin_gradle",label:"Kotlin(Gradle.kts)",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},'plugins {\n    id("com.google.devtools.ksp") version "1.7.10-1.0.6"\n    kotlin("kapt") version "1.7.10"\n\n    ...\u7701\u7565\u5176\u4ed6\u63d2\u4ef6...\n}\n\ndependencies {\n    \n    implementation("org.mapstruct:mapstruct:${mapstructVersion}") \u278a\n\n    ksp("org.babyfish.jimmer:jimmer-ksp:${jimmerVersion}") \u278b\n    kapt("org.mapstruct:mapstruct-processor:${mapstructVersion}") \u278c\n    kapt("org.babyfish.jimmer:jimmer-mapstruct-apt:${jimmerVersion}") \u24d0\n\n    ...\u7701\u7565\u5176\u4ed6\u4f9d\u8d56...\n}\n\nkotlin {\n    sourceSets.main {\n        kotlin.srcDir("build/generated/ksp/main/kotlin")\n    }\n}\n')))),(0,r.kt)("p",null,"\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5047\u8bbeJava\u4e2d\u57fa\u4e8e",(0,r.kt)("a",{parentName:"p",href:"https://projectlombok.org/"},"lombok"),"\u7f16\u5199\u9759\u6001POJO\u3002"),(0,r.kt)("table",null,(0,r.kt)("thead",null,(0,r.kt)("tr",null,(0,r.kt)("th",null,"\u8bed\u8a00"),(0,r.kt)("th",null,"\u4f4d\u7f6e"),(0,r.kt)("th",null,"\u63cf\u8ff0"))),(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",{rowspan:"3"},"Java\u548cKotlin"),(0,r.kt)("td",null,"\u278a"),(0,r.kt)("td",null,"\u5f15\u5165mapstruct\u4f9d\u8d56\uff0c\u8ba9\u7528\u6237\u4ee3\u7801\u53ef\u4ee5\u4f7f\u7528mapstruct\u7684\u6ce8\u89e3")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"\u278b"),(0,r.kt)("td",null,"\u4f7f\u7528Jimmer\u7684\u9884\u7f16\u8bd1\u5668\u4e3a\u52a8\u6001\u7c7b\u578b\u751f\u6210\u76f8\u5173\u7684\u6e90\u4ee3\u7801\uff0cJava\u4f7f\u7528`jimmer-apt`\uff0cKotlin\u4f7f\u7528`jimmer-ksp`")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"\u278c"),(0,r.kt)("td",null,"\u4f7f\u7528mapstruct\u7684annotation processor\u751f\u6210\u6e90\u4ee3\u7801 ",(0,r.kt)("i",null,"(\u540e\u6587\u4f1a\u4ecb\u7ecd)")," ")),(0,r.kt)("tr",null,(0,r.kt)("td",{rowspan:"2"},"\u4ec5Java"),(0,r.kt)("td",null,"\u2780"),(0,r.kt)("td",null,"\u5f15\u5165lombok\u7684\u4f9d\u8d56\uff0c\u8ba9\u7528\u6237\u4ee3\u7801\u53ef\u4ee5\u4f7f\u7528lombok\u7684\u6ce8\u89e3")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"\u2781"),(0,r.kt)("td",null,"\u4f7f\u7528Lombok\u7684\u9884\u7f16\u8bd1\u5668\u66f4\u6539\u9759\u6001POJO\u7c7b\u7684\u4ee3\u7801\uff0c\u6bd4\u5982\u6dfb\u52a0getter, setter")),(0,r.kt)("tr",null,(0,r.kt)("td",{rowspan:"2"},"\u4ec5Kotlin"),(0,r.kt)("td",null,"\u24d0"),(0,r.kt)("td",null,"\u4f7f\u7528`jimmer-mapstruct-apt`\u62d3\u5c55\u278c")))),(0,r.kt)("h2",{id:"\u5b9a\u4e49pojo"},"\u5b9a\u4e49POJO"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookInput.java"',title:'"BookInput.java"'},"@Data\npublic class BookInput {\n\n    @Nullable\n    private Long id;\n\n    private String name;\n\n    private int edition;\n\n    private BigDecimal price;\n\n    @Nullable\n    private Long storeId;\n\n    private List<Long> authorIds;\n}\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookInput.java"',title:'"BookInput.java"'},"data class BookInput(\n    val id: Long? = null,\n    val name: String,\n    val edition: Int,\n    val price: BigDecimal,\n    val storeId: Long?,\n    val authorIds: List<Long>\n)\n")))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Java POJO\u4ee3\u7801\u4e2d\u91c7\u7528\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"@Nullable"),"\u6ce8\u89e3\uff0c\u4ec5\u4e3a\u63d0\u9ad8\u53ef\u8bfb\u6027\uff0c\u65e0\u5b9e\u8d28\u6027\u529f\u80fd")),(0,r.kt)("p",null,"\u8be5POJO\u6709\u4e09\u4e2a\u5c5e\u6027\uff0c\u9700\u8981\u8bf4\u660e\u4e00\u4e0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.id")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8fd9\u91cc\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.id"),"\u662f\u5141\u8bb8\u4e3anull\u7684\u3002\u8fd9\u662f\u5fc5\u8981\u7684\uff0c\u6bd4\u5982\uff0c\u63d2\u5165\u6570\u636e\u4e0d\u9700\u8981\u6307\u5b9aid\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9e\u4f53\u5bf9\u8c61\u52a8\u6001\u5c5e\u6027",(0,r.kt)("inlineCode",{parentName:"p"},"Book.id"),"\u4e0d\u5141\u8bb8\u4e3anull ",(0,r.kt)("em",{parentName:"p"},"(Jimmer\u7981\u6b62id\u53ef\u4ee5\u4e3anull\uff0c\u8bf7\u53c2\u89c1",(0,r.kt)("a",{parentName:"em",href:"../../mapping/base/basic#id"},"\u6620\u5c04\u7bc7/\u57fa\u7840\u6620\u5c04/\u7b80\u5355\u6620\u5c04#@Id"),")")))),(0,r.kt)("p",{parentName:"li"},"\u4e8c\u8005\u5f7c\u6b64\u77db\u76fe\uff0c\u90a3\u4e48\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput"),"\u600e\u4e48\u8f6c\u5316\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"Book"),"\u5462\uff1f"),(0,r.kt)("admonition",{parentName:"li",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Jimmer\u7ea6\u5b9a\uff0c\u5982\u679cPOJO\u7684\u5c5e\u6027\u53ef\u4e3anull\u800c\u52a8\u6001\u5bf9\u8c61\u4e0a\u5bf9\u5e94\u7684\u5c5e\u6027\u4e0d\u80fd\u4e3anull\uff0c\u90a3\u4e48\u52a8\u6001\u5bf9\u8c61\u7684\u5bf9\u5e94\u5c5e\u6027\u4e0d\u4f1a\u88ab\u8d4b\u503c\uff0c\u4fdd\u6301\u7f3a\u5931\u7684\u72b6\u6001\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.storeId")),(0,r.kt)("p",{parentName:"li"},"\u5f88\u660e\u663e\uff0c\u8fd9\u662f\u5173\u8054id\uff0c\u5bf9\u5b9e\u4f53\u5bf9\u8c61\u52a8\u6001\u5c5e\u6027",(0,r.kt)("inlineCode",{parentName:"p"},"Book.store"),"\u3002"),(0,r.kt)("p",{parentName:"li"},"\u8fd9\u79cd\u52a8\u6001\u5bf9\u8c61\u5c5e\u6027\u88ab\u5b9a\u4e49\u4e3a\u5173\u8054\u5bf9\u8c61\uff0c\u800cPOJO\u4e2d\u5374\u5b9a\u4e49\u4e3a\u5173\u8054id\uff0c\u53eb\u505a",(0,r.kt)(i.b,{buttonText:"\u77ed\u5173\u8054",mdxType:"ViewMore"},(0,r.kt)(p.k,{mdxType:"ShortAssociation"})))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.authorIds")),(0,r.kt)("p",{parentName:"li"},"\u5f88\u660e\u663e\uff0c\u8fd9\u662f\u5173\u8054id\u96c6\u5408\uff0c\u5bf9\u5b9e\u4f53\u5bf9\u8c61\u52a8\u6001\u5c5e\u6027",(0,r.kt)("inlineCode",{parentName:"p"},"Book.authors"),"\u3002"),(0,r.kt)("p",{parentName:"li"},"\u8fd9\u79cd\u52a8\u6001\u5bf9\u8c61\u5c5e\u6027\u88ab\u5b9a\u4e49\u4e3a\u5173\u8054\u5bf9\u8c61\uff0c\u800cPOJO\u4e2d\u5374\u5b9a\u4e49\u4e3a\u5173\u8054id\uff0c\u53eb\u505a",(0,r.kt)(i.b,{buttonText:"\u77ed\u5173\u8054",mdxType:"ViewMore"},(0,r.kt)(p.k,{mdxType:"ShortAssociation"}))))),(0,r.kt)("p",null,"\u5176\u4ed6\u5c5e\u6027\u548c\u539f\u59cb\u5b9e\u4f53\u7684\u5b9a\u4e49\u5b8c\u5168\u4e00\u6837\uff0c\u65e0\u9700\u8bf4\u660e"),(0,r.kt)("h2",{id:"\u5b9a\u4e49mappper"},"\u5b9a\u4e49Mappper"),(0,r.kt)("p",null,"\u4f7f\u7528mapstruct\u6700\u91cd\u8981\u7684\u4e8b\u662f\u5b9a\u4e49Mapper\uff0c\u5982\u4e0b"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookInputMapper.java"',title:'"BookInputMapper.java"'},"@Mapper\npublic interface BookInputMapper {\n\n    @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n    Book toBook(BookInput input);\n}\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookInputMapper.java"',title:'"BookInputMapper.java"'},"@Mapper\ninterface BookInputMapper {\n\n    @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n    fun toBook(input: BookInput): Book\n}\n")))),(0,r.kt)("p",null,"\u8be5Mapper\u63d0\u4f9b\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"toBook"),"\u65b9\u6cd5\uff0c\u7528\u4e8e\u628a",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput"),"\u5bf9\u8c61\u8f6c\u5316\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"Book"),"\u5bf9\u8c61\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.id"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.id"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.name"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.price"),"\u90fd\u662f\u975e\u5173\u8054\u5c5e\u6027\uff0cmapstruct\u80fd\u5f88\u597d\u5730\u5904\u7406\u5b83\u4eec\u3002"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"\u5176\u4e2d\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.id"),"\u53ef\u4ee5\u4e3anull, \u800c",(0,r.kt)("inlineCode",{parentName:"p"},"Book.id"),"\u4e0d\u80fd\u4e3anull\u7684\u95ee\u9898\uff0c\u524d\u9762\u5df2\u7ecf\u8ba8\u8bba\u8fc7\u4e86\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002")),(0,r.kt)("p",null,"\u5173\u952e\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.storeId"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.authorIds"),"\u5e94\u8be5\u5982\u4f55\u6620\u5c04\uff0c\u8fd9\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\u4e86\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9e\u4f53\u5b9a\u4e49\u4e86@IdView\u5c5e\u6027")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9e\u4f53\u672a\u5b9a\u4e49@IdView\u5c5e\u6027"))),(0,r.kt)("h3",{id:"\u5982\u679c\u5b9e\u4f53\u5b9a\u4e49\u4e86idview\u5c5e\u6027"},"\u5982\u679c\u5b9e\u4f53\u5b9a\u4e49\u4e86@IdView\u5c5e\u6027"),(0,r.kt)("p",null,"\u5982\u679c\u5b9e\u4f53\u7c7b\u578b\u5b9a\u4e49\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"@IdView"),"\u5c5e\u6027\uff0c\u4f8b\u5982"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="Book.java"',title:'"Book.java"'},'package com.example.model;\n\nimport org.babyfish.jimmer.sql.*;\nimport org.jetbrains.annotations.Nullable;\n\n@Entity\npublic interface Book {\n\n    ...\u7701\u7565\u5176\u4ed6\u5c5e\u6027...\n\n    @ManyToOne\n    @Nullable\n    BookStore store();\n\n    @ManyToMany\n    @JoinTable(\n        name = "BOOK_AUTHOR_MAPPING",\n        joinColumnName = "BOOK_ID",\n        inverseJoinColumnName = "AUTHOR_id"\n    )\n    List<Author> authors();\n\n    // highlight-next-line\n    @IdView // \u5173\u8054\u5bf9\u8c61store\u7684id\u7684\u89c6\u56fe\n    Long storeId();\n\n    // \u5173\u8054\u5bf9\u8c61\u96c6\u5408authors\u4e2d\u6240\u6709\u5bf9\u8c61\u7684id\u7684\u89c6\u56fe\n    // highlight-next-line\n    @IdView("authors") \n    List<Long> authorIds();\n}\n'))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="Book.kt"',title:'"Book.kt"'},'package com.example.model\n\nimport org.babyfish.jimmer.sql.*\n\n@Entity\ninterface Book {\n\n    ...\u7701\u7565\u5176\u4ed6\u5c5e\u6027...\n\n    @ManyToOne\n    val store: BookStore?\n\n    @ManyToMany\n    @JoinTable(\n        name = "BOOK_AUTHOR_MAPPING",\n        joinColumnName = "BOOK_ID",\n        inverseJoinColumnName = "AUTHOR_id"\n    )\n    val authors: List<Auhtor>\n\n    // highlight-next-line\n    @IdView // \u5173\u8054\u5bf9\u8c61store\u7684id\u7684\u89c6\u56fe\n    val storeId: Long?\n\n    // \u5173\u8054\u5bf9\u8c61\u96c6\u5408authors\u4e2d\u6240\u6709\u5bf9\u8c61\u7684id\u7684\u89c6\u56fe\n    // highlight-next-line\n    @IdView("authors") \n    val authorIds: List<Long>\n}\n')))),(0,r.kt)("p",null,"\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b9e\u4f53\u5bf9\u8c61\u548cPOJO\u5b8c\u5168\u5bf9\u5e94\uff0cMapper\u65e0\u9700\u505a\u4efb\u4f55\u4fee\u6539\u3002"),(0,r.kt)("h3",{id:"\u5982\u679c\u5b9e\u4f53\u672a\u5b9a\u4e49idview\u5c5e\u6027"},"\u5982\u679c\u5b9e\u4f53\u672a\u5b9a\u4e49@IdView\u5c5e\u6027"),(0,r.kt)("p",null,"\u5982\u679c\u5b9e\u4f53\u7c7b\u578b\u5e76\u4e3a\u5b9a\u4e49",(0,r.kt)("inlineCode",{parentName:"p"},"@IdView"),"\u5c5e\u6027\uff0c\u9700\u8981\u4fee\u6539Mapper"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.storeId"),"\u8f6c\u5316\u4e3a\u53ea\u6709id\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"BookStore"),"\u5bf9\u8c61\uff0c\u518d\u8d4b\u7ed9",(0,r.kt)("inlineCode",{parentName:"p"},"Book.store"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput.authorIds"),"\u8f6c\u5316\u4e3a\u53ea\u6709id\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Author"),"\u5bf9\u8c61\u7684\u96c6\u5408\uff0c\u518d\u8d4b\u7ed9",(0,r.kt)("inlineCode",{parentName:"p"},"Book.authors")))),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookInputMapper.java"',title:'"BookInputMapper.java"'},'@Mapper\npublic interface BookInputMapper {\n\n    @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n    // highlight-next-line\n    @Mapping(target = "store", source = "storeId")\n    // highlight-next-line\n    @Mapping(target = "authors", source = "authorIds")\n    Book toBook(BookInput input);\n\n    @BeanMapping(ignoreByDefault = true)\n    // highlight-next-line\n    @Mapping(target = "id", source = ".")\n    BookStore toBookStore(Long id);\n\n    @BeanMapping(ignoreByDefault = true)\n    // highlight-next-line\n    @Mapping(target = "id", source = ".")\n    Author toAuthor(Long id);\n}\n'))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookInputMapper.java"',title:'"BookInputMapper.java"'},'@Mapper\ninterface BookInputMapper {\n\n    @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n    // highlight-next-line\n    @Mapping(target = "store", source = "storeId")\n    // highlight-next-line\n    @Mapping(target = "authors", source = "authorIds")\n    fun toBook(input: BookInput): Book\n\n    @BeanMapping(ignoreByDefault = true)\n    // highlight-next-line\n    @Mapping(target = "id", source = ".")\n    fun toBookStore(id: Long?): BookStore\n\n    @BeanMapping(ignoreByDefault = true)\n    // highlight-next-line\n    @Mapping(target = "id", source = ".")\n    fun toAuthor(id: Long?): Author\n}\n')))),(0,r.kt)("p",null,"\u7531\u4e8emapstruct\u8fd8\u652f\u6301",(0,r.kt)("inlineCode",{parentName:"p"},'@Mapping(target = "store.id", source = "storeId")'),"\u7684\u5199\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u6765\u7b80\u5316\u4ee3\u7801"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookInputMapper.java"',title:'"BookInputMapper.java"'},'@Mapper\npublic interface BookInputMapper {\n\n    @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n    // highlight-next-line\n    @Mapping(target = "store.id", source = "storeId")\n    @Mapping(target = "authors", source = "authorIds")\n    Book toBook(BookInput input);\n\n    @BeanMapping(ignoreByDefault = true)\n    @Mapping(target = "id", source = ".")\n    Author toAuthor(Long id);\n}\n'))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookInputMapper.java"',title:'"BookInputMapper.java"'},'@Mapper\ninterface BookInputMapper {\n\n    @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n    // highlight-next-line\n    @Mapping(target = "store.id", source = "storeId")\n    @Mapping(target = "authors", source = "authorIds")\n    fun toBook(input: BookInput): Book\n\n    @BeanMapping(ignoreByDefault = true)\n    @Mapping(target = "id", source = ".")\n    fun toAuthor(id: Long?): Author\n}\n')))),(0,r.kt)("h2",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,r.kt)("p",null,"\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u628a",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput"),"\u8f6c\u5316\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"Book"),"\u4e86"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"BookInput input = ...\u7701\u7565...;\nBookInputMapper mapper = Mappers.getMapper(BookInputMapper.class);\nBook book = mapper.toBook(input);\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"val input: BookInput = ...\u7701\u7565...\nval mapper = Mappers.getMapper(BookInputMapper::class.java)\nval book = mapper.toBook(input)\n")))),(0,r.kt)("h2",{id:"\u8ba9pojo\u5b9e\u73b0input\u63a5\u53e3"},"\u8ba9POJO\u5b9e\u73b0Input\u63a5\u53e3"),(0,r.kt)("p",null,"Jimmer\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u63a5\u53e3\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"org.babyfish.jimmer.Input<E>")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public interface Input<E> {\n\n    E toEntity();\n}\n")),(0,r.kt)("p",null,"\u52a8\u6001\u5bf9\u8c61\u6c38\u8fdc\u4e0d\u4f1a\u5b9e\u73b0\u6b64\u7ed3\u6784\uff0c\u8be5\u63a5\u53e3\u5e94\u8be5\u7531\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u9759\u6001POJO\u7c7b\u6765\u5b9e\u73b0\u3002\u5176\u529f\u80fd\u975e\u5e38\u7b80\u5355\uff0c\u5c31\u662f\u628a\u5f53\u524d\u9759\u6001POJO\u8f6c\u5316\u4e3a\u52a8\u6001\u5bf9\u8c61\u3002"),(0,r.kt)("p",null,"\u8be5\u63a5\u53e3\u53ef\u4ee5\u63d0\u4f9b\u8bed\u6cd5\u5c42\u9762\u7684\u4fbf\u5229\uff0c\u65e0\u8bba\u662f\u5e95\u5c42\u7684",(0,r.kt)("a",{parentName:"p",href:"../../mutation/save-command"},"\u4fdd\u5b58\u6307\u4ee4"),"\u8fd8\u662f\u4e0a\u5c42\u7684spring-data\u57fa\u63a5\u53e3",(0,r.kt)("inlineCode",{parentName:"p"},"JRepository/KRepository"),"\uff0c\u5176",(0,r.kt)("inlineCode",{parentName:"p"},"sava"),"\u65b9\u6cd5\u90fd\u76f4\u63a5\u63a5\u53d7",(0,r.kt)("inlineCode",{parentName:"p"},"Input"),"\u53c2\u6570\uff0c\u800c\u65e0\u9700\u7528\u6237\u8c03\u7528Mapper\u5b8c\u6210\u8f6c\u5316\u3002"),(0,r.kt)("p",null,"\u5982\u679c\u60f3\u8981\u8fd9\u4e2a\u8bed\u6cd5\u5c42\u9762\u7684\u4fbf\u5229\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u8ba9POJO\u5b9e\u73b0\u8be5\u63a5\u53e3\uff0c\u4fee\u6539",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput"),"\u7684\u4ee3\u7801\uff0c\u5982\u4e0b"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookInput.java"',title:'"BookInput.java"'},"@Data\npublic class BookInput implements Input<Book> { \u2776\n\n    private static final Converter CONVERTER = \n        Mappers.getMapper(Converter.class);\n\n    ...\u7701\u7565\u79c1\u6709\u5b57\u6bb5...\n\n    @Override\n    public Book toEntity() { \u2777\n        return CONVERTER.toBook(this);\n    }\n\n    @Mapper\n    interface Converter {\n\n        @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n        Book toBook(BookInput input);\n\n        ...\u7701\u7565\u5176\u4ed6mapstruct\u914d\u7f6e...\n    }\n}\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookInput.kt"',title:'"BookInput.kt"'},"data class BookInput(\n    ...\u7565...\n): Input<Book> { \u2776\n\n    override fun toEntity(): Book = \u2777\n        CONVERTER.toBook(this)\n\n    @Mapper\n    internal interface Converter { \n\n        @BeanMapping(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n        fun toBook(input: BookInput): Book\n\n        ...\u7701\u7565\u5176\u4ed6mapstruct\u914d\u7f6e...\n    }\n\n    companion object {\n\n        @JvmStatic\n        private val CONVERTER = \n            Mappers.getMapper(Converter::class.java)\n    }\n}\n")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u2776 ",(0,r.kt)("inlineCode",{parentName:"p"},"BookInput"),"\u7c7b\u5b9e\u73b0\u4e86\u63a5\u53e3",(0,r.kt)("inlineCode",{parentName:"p"},"org.babyfish.jimmer.Input"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u2777 \u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"Input.toEntity"),"\u65b9\u6cd5\uff0c\u5229\u7528MapStruct\u628a\u5f53\u524d\u9759\u6001\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Input DTO"),"\u5bf9\u8c61\u8f6c\u5316\u4e3a\u52a8\u6001\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Book"),"\u5b9e\u4f53\u5bf9\u8c61\u3002\u8fd9\u662f\u8fd9\u4e2a\u7c7b\u552f\u4e00\u7684\u529f\u80fd"))))}g.isMDXComponent=!0}}]);