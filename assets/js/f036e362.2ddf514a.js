"use strict";(self.webpackChunkdocusaurus_code=self.webpackChunkdocusaurus_code||[]).push([[4481],{15368:(e,t,n)=>{n.d(t,{Z:()=>N});var a,i,r,o,l,s,m,c,p,A,d,h,u,k,b,g,f,v=n(67294);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(this,arguments)}const N=e=>{let{title:t,titleId:n,...N}=e;return v.createElement("svg",y({width:431,height:202,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},N),t?v.createElement("title",{id:n},t):null,a||(a=v.createElement("path",{d:"M25 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4H29q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),i||(i=v.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(25 25)"},v.createElement("tspan",{dy:16,x:42.5},v.createElement("tspan",null,"BookStore")))),r||(r=v.createElement("path",{d:"M173 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4h-77q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),o||(o=v.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(173 25)"},v.createElement("tspan",{dy:16,x:42.5},v.createElement("tspan",null,"Book")))),l||(l=v.createElement("path",{d:"M321 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4h-77q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),s||(s=v.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(321 25)"},v.createElement("tspan",{dy:16,x:42.5},v.createElement("tspan",null,"Author")))),m||(m=v.createElement("path",{d:"M25 148q0-4 4-4h79q4 0 4 4v25q0 4-4 4H29q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),c||(c=v.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(25 144)"},v.createElement("tspan",{dy:16,x:43.5},v.createElement("tspan",null,"TreeNode")))),p||(p=v.createElement("path",{d:"M111 42h61",stroke:"#7f7f7f",strokeWidth:2,fill:"none"})),A||(A=v.createElement("path",{fill:"#fff",d:"M131 34h21v16h-21z"})),d||(d=v.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:31.375},v.createElement("tspan",{dy:16,x:141.5},v.createElement("tspan",null,"0:N")))),h||(h=v.createElement("path",{d:"M259 42h61",stroke:"#7f8b98",strokeWidth:2,fill:"none"})),u||(u=v.createElement("path",{fill:"#fff",d:"M277.5 34h24v16h-24z"})),k||(k=v.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:31.375},v.createElement("tspan",{dy:16,x:289.5},v.createElement("tspan",null,"M:N")))),b||(b=v.createElement("path",{d:"m68.983 143-.483-29H142v47h-29",stroke:"#7f8b98",strokeWidth:2,fill:"none"})),g||(g=v.createElement("path",{fill:"#fff",d:"M118.248 106h21v16h-21z"})),f||(f=v.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:103.375},v.createElement("tspan",{dy:16,x:128.748},v.createElement("tspan",null,"0:N")))))}},41220:(e,t,n)=>{n.d(t,{$0:()=>f,BP:()=>A,Hj:()=>h,Kj:()=>u,RI:()=>p,ZJ:()=>k,_R:()=>Z,aO:()=>v,bD:()=>j,bg:()=>C,bn:()=>E,ce:()=>y,ef:()=>B,gc:()=>b,i5:()=>g,jl:()=>x,qj:()=>d,vc:()=>N,zf:()=>c});var a=n(67294),i=n(98456),r=n(21737),o=n(53143),l=n(86886),s=n(72389);const m=(0,a.memo)((e=>{let{src:t}=e;const n=(0,o.S)(),[m,c]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>c(!0)),[]),A=(0,s.Z)();return A&&!function(){const e=F;if("boolean"==typeof e)return e;var t=document.createElement("canvas");const n=t.getContext&&t.getContext("2d")&&0==t.toDataURL("image/webp").indexOf("data:image/webp");return F=n,n}()&&t.endsWith(".webp")?a.createElement(r.Z,{security:"error"},n?"\u65e0\u6cd5\u5c55\u793a\u56fe\u7247\uff0c\u8bf7\u4f7f\u7528\u652f\u6301webp\u7684\u6d4f\u89c8\u5668":"Unable to display image, please use a browser that supports webp"):a.createElement(a.Fragment,null,A&&!m&&a.createElement(l.ZP,{container:!0,direction:"column",alignItems:"center"},a.createElement(l.ZP,{item:!0},a.createElement(i.Z,null)),a.createElement(l.ZP,{item:!0},n?"\u52a0\u8f7d\u56fe\u7247\u4e2d":"Loading image")),a.createElement("img",{src:t,onLoad:p}))})),c=(0,a.memo)((()=>a.createElement(m,{src:S}))),p=(0,a.memo)((()=>a.createElement(m,{src:w}))),A=(0,a.memo)((()=>a.createElement(m,{src:T}))),d=(0,a.memo)((()=>a.createElement(m,{src:q}))),h=(0,a.memo)((()=>a.createElement(m,{src:M}))),u=(0,a.memo)((()=>a.createElement(m,{src:H}))),k=(0,a.memo)((()=>a.createElement(m,{src:R}))),b=(0,a.memo)((()=>a.createElement(m,{src:P}))),g=(0,a.memo)((()=>a.createElement(m,{src:I}))),f=(0,a.memo)((()=>a.createElement(m,{src:L}))),v=(0,a.memo)((()=>a.createElement(m,{src:J}))),y=(0,a.memo)((()=>a.createElement(m,{src:D}))),N=(0,a.memo)((()=>a.createElement(m,{src:G}))),E=(0,a.memo)((()=>a.createElement(m,{src:O}))),B=(0,a.memo)((()=>a.createElement(m,{src:W}))),C=(0,a.memo)((()=>a.createElement(m,{src:K}))),j=(0,a.memo)((()=>a.createElement(m,{src:U}))),x=(0,a.memo)((()=>a.createElement(m,{src:V}))),Z=(0,a.memo)((()=>a.createElement(m,{src:Q})));let F;const S=n(74513).Z,w=n(61278).Z,T=n(64608).Z,q=n(29148).Z,M=n(71876).Z,H=n(86116).Z,R=n(68393).Z,P=n(78706).Z,I=n(55666).Z,L=n(12036).Z,J=n(65048).Z,D=n(34502).Z,G=n(91059).Z,O=n(66003).Z,W=(n(15368).Z,n(55515).Z),K=n(20466).Z,U=n(98272).Z,V=n(27557).Z,Q=n(69339).Z;n(21283).Z},53143:(e,t,n)=>{n.d(t,{S:()=>i});var a=n(52263);function i(){const{i18n:e}=(0,a.Z)(),t=e.currentLocale;return"zh"===t||"zh_cn"===t||"zh_CN"==t}},64010:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>m,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>A});var a=n(83117),i=(n(67294),n(3905)),r=n(65488),o=n(85162),l=n(41220);const s={sidebar_position:3,title:"Remote Associations"},m=void 0,c={unversionedId:"spring/spring-cloud",id:"spring/spring-cloud",title:"Remote Associations",description:"Remote associations are Jimmer's first thoughts on microservice architecture.",source:"@site/docs/spring/spring-cloud.mdx",sourceDirName:"spring",slug:"/spring/spring-cloud",permalink:"/jimmer-doc/docs/spring/spring-cloud",draft:!1,editUrl:"https://github.com/babyfish-ct/jimmer-doc/tree/main/docs/spring/spring-cloud.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Remote Associations"},sidebar:"tutorialSidebar",previous:{title:"Query DTO",permalink:"/jimmer-doc/docs/spring/repository/dto"},next:{title:"Appendix",permalink:"/jimmer-doc/docs/spring/appendix"}},p={},A=[{value:"Databases",id:"databases",level:2},{value:"Entity Definition",id:"entity-definition",level:2},{value:"Registry Center",id:"registry-center",level:2},{value:"Implementing Services",id:"implementing-services",level:2},{value:"Enable Microservice Support in Jimmer",id:"enable-microservice-support-in-jimmer",level:3},{value:"Implement Business Query Logic",id:"implement-business-query-logic",level:3},{value:"Run Effects",id:"run-effects",level:3}],d={toc:A};function h(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Remote associations are Jimmer's first thoughts on microservice architecture."),(0,i.kt)("p",null,"Through vertical splitting, entity types can be divided into different microservices, or in other words, divided into different databases. The associations ",(0,i.kt)("em",{parentName:"p"},"(including one-to-one, many-to-one, one-to-many and many-to-many)")," between entity types belonging to different microservices are remote associations."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Jimmer automatically implements automatic query of remote associated data. "),(0,i.kt)("p",{parentName:"admonition"},"That is, if the ",(0,i.kt)("a",{parentName:"p",href:"../query/object-fetcher"},"object fetcher")," contains remote association properties of any depth, it will query different parts of the data across multiple microservices, and finally merge the query results of different parts into the data structure expected by the object fetcher as a whole return. No need for developers to implement remote queries and data splicing themselves.")),(0,i.kt)("h2",{id:"databases"},"Databases"),(0,i.kt)("p",null,"In this article, each entity is divided as follows:"),(0,i.kt)(l.ZJ,{mdxType:"Cloud"}),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"BOOK_AUTHOR_MAPPING")," as the many-to-many association intermediate table, can be divided into either the ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service")," service or the ",(0,i.kt)("inlineCode",{parentName:"p"},"author-service")," service. In this example, it is divided into the ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service")," service, the reason will be explained later.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Solid arrows indicate foreign key references within the same database, whose validity can be freely chosen by developers. ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Dashed arrows indicate foreign key references across database boundaries, which must be pseudo foreign keys.")))),(0,i.kt)("p",null,"To simplify the discussion, the database initialization scripts for the three services are as follows:"),(0,i.kt)("table",null,(0,i.kt)("thead",null,(0,i.kt)("tr",null,(0,i.kt)("th",null,"Language"),(0,i.kt)("th",null,"Example"),(0,i.kt)("th",null,"Service (Subproject)"),(0,i.kt)("th",null,"Database Initialization SQL"))),(0,i.kt)("tbody",null,(0,i.kt)("tr",null,(0,i.kt)("td",{rowspan:"3"},"Java"),(0,i.kt)("td",{rowspan:"3"},(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/java/jimmer-cloud"},"example/java/jimmer-cloud")),(0,i.kt)("td",null,"store-service"),(0,i.kt)("td",null,(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/java/jimmer-cloud/store-service/src/main/resources/store.sql"},"jimmer-cloud/store-service/src/main/resources/store.sql"))),(0,i.kt)("tr",null,(0,i.kt)("td",null,"book-service"),(0,i.kt)("td",null,(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/java/jimmer-cloud/book-service/src/main/resources/book.sql"},"jimmer-cloud/book-service/src/main/resources/book.sql"))),(0,i.kt)("tr",null,(0,i.kt)("td",null,"author-service"),(0,i.kt)("td",null,(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/java/jimmer-cloud/author-service/src/main/resources/author.sql"},"jimmer-cloud/author-service/src/main/resources/author.sql"))),(0,i.kt)("tr",null,(0,i.kt)("td",{rowspan:"3"},"Kotlin"),(0,i.kt)("td",{rowspan:"3"},(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/kotlin/jimmer-cloud-kt"},"example/kotlin/jimmer-cloud-kt")),(0,i.kt)("td",null,"store-service"),(0,i.kt)("td",null,(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/kotlin/jimmer-cloud-kt/store-service/src/main/resources/store.sql"},"jimmer-cloud-kt/store-service/src/main/resources/store.sql"))),(0,i.kt)("tr",null,(0,i.kt)("td",null,"book-service"),(0,i.kt)("td",null,(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/kotlin/jimmer-cloud-kt/book-service/src/main/resources/book.sql"},"jimmer-cloud-kt/book-service/src/main/resources/book.sql"))),(0,i.kt)("tr",null,(0,i.kt)("td",null,"author-service"),(0,i.kt)("td",null,(0,i.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/blob/main/example/kotlin/jimmer-cloud-kt/author-service/src/main/resources/author.sql"},"jimmer-cloud-kt/author-service/src/main/resources/author.sql"))))),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The accompanying examples ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/java/jimmer-cloud"},"example/java/jimmer-cloud"),"\nor ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/kotlin/jimmer-cloud-kt"},"example/kotlin/jimmer-cloud-kt"),"\nuse H2, each service will automatically initialize its own database after startup.")),(0,i.kt)("h2",{id:"entity-definition"},"Entity Definition"),(0,i.kt)("p",null,"In a separate subproject ",(0,i.kt)("em",{parentName:"p"},"(the accompanying examples are\n",(0,i.kt)("a",{parentName:"em",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-cloud/model"},"example/java/jimmer-cloud/model")," or\n",(0,i.kt)("a",{parentName:"em",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-cloud-kt/model"},"example/kotin/jimmer-cloud-kt/model"),")"),", define all entity types."),(0,i.kt)("p",null,"These entity types constitute the global model. Entity types belong to different microservices. Entities between different microservices constitute remote associations, which can actually be understood as the interaction contracts between entities belonging to different microservices."),(0,i.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookStore.java"',title:'"BookStore.java"'},'// highlight-next-line\n@Entity(microServiceName = "store-service")\npublic interface BookStore {\n\n    // highlight-next-line \n    @OneToMany(mappedBy = "store")\n    List<Book> books();  \n\n    ...other code omitted...\n}\n'))),(0,i.kt)(o.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookStore.kt"',title:'"BookStore.kt"'},'// highlight-next-line\n@Entity(microServiceName = "store-service") \ninterface BookStore {\n\n    // highlight-next-line\n    @OneToMany(mappedBy = "store")\n    val books: List<Book>\n\n    ...other code omitted...\n}\n')))),(0,i.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="Book.java"',title:'"Book.java"'},'// highlight-next-line \n@Entity(microServiceName = "book-service")\npublic interface Book {\n\n    @Nullable\n    // highlight-next-line\n    @ManyToOne  \n    BookStore store();\n\n    // highlight-next-line\n    @ManyToMany\n    List<Author> authors();\n\n    ...other code omitted...\n}\n'))),(0,i.kt)(o.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="Book.kt"',title:'"Book.kt"'},'// highlight-next-line\n@Entity(microServiceName = "book-service")\ninterface Book {\n\n    // highlight-next-line\n    @ManyToOne\n    val store: BookStore?\n\n    // highlight-next-line\n    @ManyToMany\n    val authors: List<Author>\n\n    ...other code omitted...\n}\n')))),(0,i.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="Author.java"',title:'"Author.java"'},'// highlight-next-line\n@Entity(microServiceName = "author-service")  \npublic interface Book {\n\n    // highlight-next-line\n    @ManyToMany(mappedBy = "authors")\n    List<Book> books();\n\n    ...other code omitted...\n}\n'))),(0,i.kt)(o.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="Author.kt"',title:'"Author.kt"'},'// highlight-next-line\n@Entity(microServiceName = "author-service")\ninterface Author {\n\n    // highlight-next-line\n    @ManyToMany(mappedBy = "authors") \n    val books: List<Book>\n\n    ...other code omitted...\n}\n')))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"microServiceName")," of the ",(0,i.kt)("inlineCode",{parentName:"p"},"@Entity")," annotation of the entity class is specified, so that it is clear which microservice each entity belongs to, i.e. which database."),(0,i.kt)("p",{parentName:"li"},"In this example, the entity types ",(0,i.kt)("inlineCode",{parentName:"p"},"BookStore"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Book")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Author")," belong to the services ",(0,i.kt)("inlineCode",{parentName:"p"},"store-service"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"author-service")," respectively."),(0,i.kt)("p",{parentName:"li"},"Here the microservice is the name of each service in the registry center, for spring-cloud it is the global configuration ",(0,i.kt)("inlineCode",{parentName:"p"},"sping.application.name"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The associations between entities belonging to different microservices are remote associations."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"BookStore.books")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Book.store"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"BookStore")," belongs to ",(0,i.kt)("inlineCode",{parentName:"p"},"store-service"),", while ",(0,i.kt)("inlineCode",{parentName:"p"},"Book")," belongs to ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Book.authors")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Author.books"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"Book")," belongs to ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service"),", while ",(0,i.kt)("inlineCode",{parentName:"p"},"Author")," belongs to ",(0,i.kt)("inlineCode",{parentName:"p"},"author-service"))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The many-to-one association ",(0,i.kt)("inlineCode",{parentName:"p"},"Book.store")," must be nullable, because the remote association means its foreign key must reference data in another database, that is, it must be a pseudo foreign key. And in Jimmer, the field corresponding to a pseudo foreign key must be nullable."),(0,i.kt)("p",{parentName:"li"},"Please refer to ",(0,i.kt)("a",{parentName:"p",href:"../mapping/base/foreignkey"},"Real and Pseudo Foreign Keys"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"For the bidirectional many-to-many association between books and authors, ",(0,i.kt)("inlineCode",{parentName:"p"},"Book.authors")," is the owning side, while ",(0,i.kt)("inlineCode",{parentName:"p"},"Author.books")," is the inverse side ",(0,i.kt)("em",{parentName:"p"},"(",(0,i.kt)("inlineCode",{parentName:"em"},"mappedBy")," of ",(0,i.kt)("inlineCode",{parentName:"em"},"@ManyToMany")," is configured)"),"."),(0,i.kt)("admonition",{parentName:"li",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Jimmer stipulates that the intermediate table of remote associations must belong to the microservice where the owning side entity belongs.")),(0,i.kt)("p",{parentName:"li"},"Here the question left in the previous section is answered, why in this example the intermediate table ",(0,i.kt)("inlineCode",{parentName:"p"},"BOOK_AUTOHOR_MAPPING")," is defined in the ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service")," database instead of the ",(0,i.kt)("inlineCode",{parentName:"p"},"author-service")," database."))),(0,i.kt)("h2",{id:"registry-center"},"Registry Center"),(0,i.kt)("p",null,"Microservice applications need a registry center, which is a basic feature of microservice architecture, no explanation is needed in this article."),(0,i.kt)("p",null,"In the accompanying examples, it is ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/java/jimmer-cloud/registry-center"},"example/java/jimmer-cloud/registry-center"),"\nor ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/kotlin/jimmer-cloud-kt/registry-center"},"example/kotlin/jimmer-cloud-kt/registry-center")),(0,i.kt)("h2",{id:"implementing-services"},"Implementing Services"),(0,i.kt)("p",null,"Since the implementations of the microservices ",(0,i.kt)("inlineCode",{parentName:"p"},"store-service"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"author-service")," are highly similar, this document only explains how to implement ",(0,i.kt)("inlineCode",{parentName:"p"},"store-service"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Although this document only explains ",(0,i.kt)("inlineCode",{parentName:"p"},"store-service"),", to experience the effect of remote associations, all three services need to be fully implemented."),(0,i.kt)("p",{parentName:"admonition"},"Complete code can be found in the accompanying examples ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/java/jimmer-cloud"},"example/java/jimmer-cloud"),"\nor ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/kotlin/jimmer-cloud-kt"},"example/kotlin/jimmer-cloud-kt"),". ")),(0,i.kt)("h3",{id:"enable-microservice-support-in-jimmer"},"Enable Microservice Support in Jimmer"),(0,i.kt)("p",null,"Any microservice must enable Jimmer's microservice support. There are two ways:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Use Spring Boot Starter"),(0,i.kt)("p",{parentName:"li"},"Modify spring configuration file ",(0,i.kt)("inlineCode",{parentName:"p"},"application.yml")," ",(0,i.kt)("em",{parentName:"p"},"(or ",(0,i.kt)("inlineCode",{parentName:"em"},"application.properties"),")")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"spring:\n    application:\n    # highlight-next-line\n        name: store-service\n\njimmer:\n# highlight-next-line\n    micro-service-name: ${spring.application.name}\n...other configurations omitted...\n\neureka:\n    client:\n        serviceUrl:\n            defaultZone: http://localhost:7000/eureka/\n")),(0,i.kt)("p",{parentName:"li"},'Here, "store-service" is used both as the name of the current service in spring-cloud registry center and as the microservice configuration in Jimmer.')),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"When using low-level APIs"),(0,i.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'JSqlClient sqlClient = JSqlClient\n    .newBuilder()\n    .setMicroServiceName("...")\n    ...other configurations omitted...\n    .build();\n'))),(0,i.kt)(o.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'val sqlClient = newKSqlClient {\n    setMicroServiceName("...")\n    ...other configurations omitted...\n}\n')))))),(0,i.kt)("p",null,"Once ",(0,i.kt)("inlineCode",{parentName:"p"},"jimmer.micro-service-name")," is configured, Jimmer knows which entity types belong to the current service ",(0,i.kt)("em",{parentName:"p"},"(here is ",(0,i.kt)("inlineCode",{parentName:"em"},"BookStore"),")"),". "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Using Jimmer's ORM APIs to operate on the entity types belonging to the current microservice will execute correctly, just like everything explained in previous documents.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Using Jimmer's ORM APIs to operate on entity types belonging to other microservices will throw exceptions."))),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"As long as each service ensures ",(0,i.kt)("inlineCode",{parentName:"p"},"spring.application.name")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"jimmer.micro-service-name")," are the same, Jimmer will automatically implement automatic query of remote associated data without requiring developers to write any code.")),(0,i.kt)("h3",{id:"implement-business-query-logic"},"Implement Business Query Logic"),(0,i.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookStoreService.java"',title:'"BookStoreService.java"'},'@GetMapping("/store/{id}/detail")\npublic @FetchBy("COMPLEX_FETCHER") BookStore findStoreDetail(\n        @PathVariable("id") long id\n) {\n    return storeRepository.findNullable(id, COMPLEX_FETCHER); \n}\n\npublic static final Fetcher<BookStore> COMPLEX_FETCHER =\n    Fetchers.BOOK_STORE_FETCHER \u2776\n        .allScalarFields()\n        .books( \u2777\n            Fetchers.BOOK_FETCHER\n                .allScalarFields()\n                .authors( \u2778\n                    Fetchers.AUTHOR_FETCHER\n                        .allScalarFields()\n                )\n        );\n'))),(0,i.kt)(o.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookStoreService.kt"',title:'"BookStoreService.kt"'},'@GetMapping("/store/{id}/detail")\nfun findStoreDetail(\n    @PathVariable("id") id: Long  \n): @FetchBy("COMPLEX_FETCHER") BookStore? =\n    storeRepository.findNullable(id, COMPLEX_FETCHER)\n\ncompanion object {\n\n    val COMPLEX_FETCHER =  \n        newFetcher(BookStore::class).by { \u2776\n            allScalarFields()\n            books { \u2777\n                allScalarFields()\n                authors { \u2778\n                    allScalarFields()\n                }\n            }\n        }\n}\n')))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u2776 Query root aggregate, queried directly from the database belonging to the current service ",(0,i.kt)("inlineCode",{parentName:"p"},"store-service"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u2777 Query associated objects through remote association property ",(0,i.kt)("inlineCode",{parentName:"p"},"BookStore.books")),(0,i.kt)("p",{parentName:"li"},"Access remote microservice ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service")," indirectly to get data via HTTP protocol")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u2778 Query associated objects through remote association property ",(0,i.kt)("inlineCode",{parentName:"p"},"Book.authors")),(0,i.kt)("p",{parentName:"li"},"Access remote microservice ",(0,i.kt)("inlineCode",{parentName:"p"},"author-service")," indirectly to get data via HTTP protocol"))),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Users only need to implement queries for root aggregate objects, queries for associated properties ",(0,i.kt)("em",{parentName:"p"},"(including remote associations)")," are fully automated by Jimmer."),(0,i.kt)("p",{parentName:"admonition"},"Therefore, even without writing any Java/Kotlin code for the other two microservices ",(0,i.kt)("inlineCode",{parentName:"p"},"book-service")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"author-service"),", as long as their configuration files are modified to support microservices, this method can still run correctly.")),(0,i.kt)("h3",{id:"run-effects"},"Run Effects"),(0,i.kt)("p",null,"Assuming ",(0,i.kt)("inlineCode",{parentName:"p"},"store-service")," is started on localhost with port 7001, accessing ",(0,i.kt)("inlineCode",{parentName:"p"},"http://localhost:7001/store/1/detail")," will get the result:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "id":1,\n    "name":"O\'REILLY",\n    "website":null,\n    // highlight-next-line\n    "books":[\n        {\n            "id":1,\n            "name":"Learning GraphQL",\n            "edition":1,\n            "price":50,\n            // highlight-next-line\n            "authors":[\n                {\n                    "id":1,\n                    "firstName":"Eve",\n                    "lastName":"Procello",\n                    "gender":"FEMALE"\n                },\n                {\n                    "id":2,\n                    "firstName":"Alex",\n                    "lastName":"Banks",\n                    "gender":"MALE"\n                }\n            ]\n        },\n        {\n            "id":2,\n            ...omitted...\n        },\n        {\n            "id":3,\n            ...omitted...\n        },\n        {\n            "id":4,\n            "name":"Effective TypeScript",\n            "edition":1,\n            "price":73,\n            // highlight-next-line\n            "authors":[\n                {\n                    "id":3,\n                    "firstName":"Dan",\n                    "lastName":"Vanderkam",\n                    "gender":"MALE"\n                }\n            ]\n        },\n        {\n            "id":5,\n            ...omitted...\n        },\n        {\n            "id":6,\n            ...omitted...\n        },\n        {\n            "id":7,\n            "name":"Programming TypeScript",\n            "edition":1,\n            "price":47.5,\n            // highlight-next-line\n            "authors":[\n                {\n                    "id":4,\n                    "firstName":"Boris",\n                    "lastName":"Cherny",\n                    "gender":"MALE"\n                }\n            ]\n        },\n        {\n            "id":8,\n            ...omitted...\n        },\n        {\n            "id":9,\n            ...omitted...\n        }\n    ]\n}\n')))}h.isMDXComponent=!0},64608:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/association-cache-dbeabc0a449a23469331c7bd822e1540.webp"},29148:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/calculated-cache-b73a5f78ce1bc73348621025d583aa47.webp"},68393:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cloud-4029a49b29895e2ef7f199be53c647c8.webp"},86116:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/consistency-782cc1bfaf8d5f2c50a6cf4fd290c383.webp"},74513:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dto-explosion-f0066fdbe10e41d79a21628460e40468.webp"},78706:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/generated-java-32e67690ba94b4f0d63bbd248844dd71.webp"},55666:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/generated-kt-2d53fe7a5ad2ee91828171f07954eea8.webp"},12036:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/webp;base64,UklGRlwDAABXRUJQVlA4WAoAAAAoAAAAIwAAHwAASUNDUBQCAAAAAAIUYXBwbAQAAABtbnRyUkdCIFhZWiAH5wADABkAEgA3ABdhY3NwQVBQTAAAAABBUFBMAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWFwcGzwmkVkcoBXfc7VHI8vo5G3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApkZXNjAAAA/AAAAGVjcHJ0AAABZAAAACN3dHB0AAABiAAAABRyWFlaAAABnAAAABRnWFlaAAABsAAAABRiWFlaAAABxAAAABRyVFJDAAAB2AAAABBjaGFkAAAB6AAAACxiVFJDAAAB2AAAABBnVFJDAAAB2AAAABBkZXNjAAAAAAAAAAtVMjdVMkc2UjRCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHRleHQAAAAAQ29weXJpZ2h0IEFwcGxlIEluYy4sIDIwMjMAAFhZWiAAAAAAAADz2AABAAAAARYIWFlaIAAAAAAAAHLJAAA6rAAAAZFYWVogAAAAAAAAXQgAALT9AAAPUFhZWiAAAAAAAAAnBQAAEFYAAMJMcGFyYQAAAAAAAAAAAAH2BHNmMzIAAAAAAAELtwAABZb///NXAAAHKQAA/df///u3///9pgAAA9oAAMD2VlA4IK4AAABQBgCdASokACAAPo04mEelIyKhMBVdUKARiWIAxPLgLf/smI7f4opUf8y4Na5nNiiOM9fdUSb/n/4qAAD+76lTf73FZ+2hhhPQzsV9rZahOwFWYzUW6kNtghYCTvo/PpeTwWM9j+YlVt+tUxq84FN9eUFzu7J4H42kzR6StHV7YV1WZG+EvIW3H4gjv94UShhqQ2cvrX/y91uP4+a/hCq3skB3vjdta+qP9EVAAABFWElGbAAAAE1NACoAAAAIAAQBGgAFAAAAAQAAAD4BGwAFAAAAAQAAAEYBKAADAAAAAQACAACHaQAEAAAAAQAAAE4AAAAAAAAAkAAAAAEAAACQAAAAAQACoAIABAAAAAEAAAAkoAMABAAAAAEAAAAgAAAAAA=="},34502:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/graphiql-headers-676e3ff2a6da158f8a8b2b0d43633896.webp"},71876:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/multi-view-cache-57a9e6ec32df6b23eceac9376d0268d1.webp"},61278:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/object-cache-5a67daa9966fe7b728af64423333ba74.webp"},21283:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/public-wechat-dfd717c8dce4e5464c055768e06cb22b.webp"},91059:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/save-d37c62a7516ccbf2bc561f935cf77de2.webp"},66003:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/shape-ba5246fcd39e013ea28a73144614bd9d.webp"},65048:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/swagger-authorize-144b7e355d1d59381a6fa660b743e2a7.webp"},55515:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/api-2a7966c9db85aec24ae0d1fe0cb62c17.webp"},20466:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/code-bfdfb727fb3ccc54d12fe6a4c5ddc58f.webp"},98272:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/family-b9c1857991f5f8d662444aa9f6e2b85f.webp"},27557:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/field-05834b18f87cfe96cfd1d1a72750e9e5.webp"},69339:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/webp;base64,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"}}]);