"use strict";(self.webpackChunkdocusaurus_code=self.webpackChunkdocusaurus_code||[]).push([[1335],{3905:(e,t,a)=>{a.d(t,{Zo:()=>A,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),s=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},A=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,A=i(e,["components","mdxType","originalType","parentName"]),d=s(a),m=r,u=d["".concat(c,".").concat(m)]||d[m]||p[m]||o;return a?n.createElement(u,l(l({ref:t},A),{},{components:a})):n.createElement(u,l({ref:t},A))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var s=2;s<o;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},15368:(e,t,a)=>{a.d(t,{Z:()=>E});var n,r,o,l,i,c,s,A,p,d,m,u,h,b,f,g,k,y=a(67294);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}const E=e=>{let{title:t,titleId:a,...E}=e;return y.createElement("svg",v({width:431,height:202,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},E),t?y.createElement("title",{id:a},t):null,n||(n=y.createElement("path",{d:"M25 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4H29q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),r||(r=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(25 25)"},y.createElement("tspan",{dy:16,x:42.5},y.createElement("tspan",null,"BookStore")))),o||(o=y.createElement("path",{d:"M173 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4h-77q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),l||(l=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(173 25)"},y.createElement("tspan",{dy:16,x:42.5},y.createElement("tspan",null,"Book")))),i||(i=y.createElement("path",{d:"M321 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4h-77q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),c||(c=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(321 25)"},y.createElement("tspan",{dy:16,x:42.5},y.createElement("tspan",null,"Author")))),s||(s=y.createElement("path",{d:"M25 148q0-4 4-4h79q4 0 4 4v25q0 4-4 4H29q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),A||(A=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(25 144)"},y.createElement("tspan",{dy:16,x:43.5},y.createElement("tspan",null,"TreeNode")))),p||(p=y.createElement("path",{d:"M111 42h61",stroke:"#7f7f7f",strokeWidth:2,fill:"none"})),d||(d=y.createElement("path",{fill:"#fff",d:"M131 34h21v16h-21z"})),m||(m=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:31.375},y.createElement("tspan",{dy:16,x:141.5},y.createElement("tspan",null,"0:N")))),u||(u=y.createElement("path",{d:"M259 42h61",stroke:"#7f8b98",strokeWidth:2,fill:"none"})),h||(h=y.createElement("path",{fill:"#fff",d:"M277.5 34h24v16h-24z"})),b||(b=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:31.375},y.createElement("tspan",{dy:16,x:289.5},y.createElement("tspan",null,"M:N")))),f||(f=y.createElement("path",{d:"m68.983 143-.483-29H142v47h-29",stroke:"#7f8b98",strokeWidth:2,fill:"none"})),g||(g=y.createElement("path",{fill:"#fff",d:"M118.248 106h21v16h-21z"})),k||(k=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:103.375},y.createElement("tspan",{dy:16,x:128.748},y.createElement("tspan",null,"0:N")))))}},85162:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(67294),r=a(34334);const o="tabItem_Ymn6";function l(e){let{children:t,hidden:a,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(o,l),hidden:a},t)}},65488:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(83117),r=a(67294),o=a(34334),l=a(72389),i=a(67392),c=a(7094),s=a(12466);const A="tabList__CuJ",p="tabItem_LNqP";function d(e){var t;const{lazy:a,block:l,defaultValue:d,values:m,groupId:u,className:h}=e,b=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=m??b.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),g=(0,i.l)(f,((e,t)=>e.value===t.value));if(g.length>0)throw new Error(`Docusaurus error: Duplicate values "${g.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const k=null===d?d:d??(null==(t=b.find((e=>e.props.default)))?void 0:t.props.value)??b[0].props.value;if(null!==k&&!f.some((e=>e.value===k)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${k}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:v}=(0,c.U)(),[E,N]=(0,r.useState)(k),B=[],{blockElementScrollPositionUntilNextRender:C}=(0,s.o5)();if(null!=u){const e=y[u];null!=e&&e!==E&&f.some((t=>t.value===e))&&N(e)}const j=e=>{const t=e.currentTarget,a=B.indexOf(t),n=f[a].value;n!==E&&(C(t),N(n),null!=u&&v(u,String(n)))},Z=e=>{var t;let a=null;switch(e.key){case"ArrowRight":{const t=B.indexOf(e.currentTarget)+1;a=B[t]??B[0];break}case"ArrowLeft":{const t=B.indexOf(e.currentTarget)-1;a=B[t]??B[B.length-1];break}}null==(t=a)||t.focus()};return r.createElement("div",{className:(0,o.Z)("tabs-container",A)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":l},h)},f.map((e=>{let{value:t,label:a,attributes:l}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:E===t?0:-1,"aria-selected":E===t,key:t,ref:e=>B.push(e),onKeyDown:Z,onFocus:j,onClick:j},l,{className:(0,o.Z)("tabs__item",p,null==l?void 0:l.className,{"tabs__item--active":E===t})}),a??t)}))),a?(0,r.cloneElement)(b.filter((e=>e.props.value===E))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==E})))))}function m(e){const t=(0,l.Z)();return r.createElement(d,(0,n.Z)({key:String(t)},e))}},41220:(e,t,a)=>{a.d(t,{$0:()=>k,BP:()=>d,Hj:()=>u,Kj:()=>h,RI:()=>p,ZJ:()=>b,_R:()=>w,aO:()=>y,bD:()=>j,bg:()=>C,bn:()=>N,ce:()=>v,ef:()=>B,gc:()=>f,i5:()=>g,jl:()=>Z,qj:()=>m,vc:()=>E,zf:()=>A});var n=a(67294),r=a(98456),o=a(21737),l=a(53143),i=a(86886),c=a(72389);const s=(0,n.memo)((e=>{let{src:t}=e;const a=(0,l.S)(),[s,A]=(0,n.useState)(!1),p=(0,n.useCallback)((()=>A(!0)),[]),d=(0,c.Z)();return d&&!function(){const e=T;if("boolean"==typeof e)return e;var t=document.createElement("canvas");const a=t.getContext&&t.getContext("2d")&&0==t.toDataURL("image/webp").indexOf("data:image/webp");return T=a,a}()&&t.endsWith(".webp")?n.createElement(o.Z,{security:"error"},a?"\u65e0\u6cd5\u5c55\u793a\u56fe\u7247\uff0c\u8bf7\u4f7f\u7528\u652f\u6301webp\u7684\u6d4f\u89c8\u5668":"Unable to display image, please use a browser that supports webp"):n.createElement(n.Fragment,null,d&&!s&&n.createElement(i.ZP,{container:!0,direction:"column",alignItems:"center"},n.createElement(i.ZP,{item:!0},n.createElement(r.Z,null)),n.createElement(i.ZP,{item:!0},a?"\u52a0\u8f7d\u56fe\u7247\u4e2d":"Loading image")),n.createElement("img",{src:t,onLoad:p}))})),A=(0,n.memo)((()=>n.createElement(s,{src:x}))),p=(0,n.memo)((()=>n.createElement(s,{src:O}))),d=(0,n.memo)((()=>n.createElement(s,{src:F}))),m=(0,n.memo)((()=>n.createElement(s,{src:I}))),u=(0,n.memo)((()=>n.createElement(s,{src:S}))),h=(0,n.memo)((()=>n.createElement(s,{src:q}))),b=(0,n.memo)((()=>n.createElement(s,{src:L}))),f=(0,n.memo)((()=>n.createElement(s,{src:D}))),g=(0,n.memo)((()=>n.createElement(s,{src:M}))),k=(0,n.memo)((()=>n.createElement(s,{src:R}))),y=(0,n.memo)((()=>n.createElement(s,{src:H}))),v=(0,n.memo)((()=>n.createElement(s,{src:P}))),E=(0,n.memo)((()=>n.createElement(s,{src:G}))),N=(0,n.memo)((()=>n.createElement(s,{src:J}))),B=(0,n.memo)((()=>n.createElement(s,{src:Q}))),C=(0,n.memo)((()=>n.createElement(s,{src:K}))),j=(0,n.memo)((()=>n.createElement(s,{src:W}))),Z=(0,n.memo)((()=>n.createElement(s,{src:U}))),w=(0,n.memo)((()=>n.createElement(s,{src:V})));let T;const x=a(74513).Z,O=a(61278).Z,F=a(64608).Z,I=a(29148).Z,S=a(71876).Z,q=a(86116).Z,L=a(68393).Z,D=a(78706).Z,M=a(55666).Z,R=a(12036).Z,H=a(65048).Z,P=a(34502).Z,G=a(91059).Z,J=a(66003).Z,Q=(a(15368).Z,a(55515).Z),K=a(20466).Z,W=a(98272).Z,U=a(27557).Z,V=a(69339).Z;a(21283).Z},32102:(e,t,a)=>{a.d(t,{s:()=>h});var n=a(83117),r=a(67294),o=a(42293),l=a(50657),i=a(6514),c=a(54776),s=a(10155),A=a(15861),p=a(93946),d=a(9137),m=a(61274),u=a(50594);const h=(0,r.memo)((e=>{let{open:t,fullScreen:a=!1,title:n,onClose:c,children:h}=e;const[f,g]=(0,r.useState)(a),k=(0,r.useCallback)((()=>{g((e=>!e))}),[]);return r.createElement(l.Z,{open:t,onClose:c,fullScreen:f,TransitionComponent:b,maxWidth:"md"},r.createElement(o.Z,{sx:{position:"relative"}},r.createElement(s.Z,null,r.createElement(A.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},n),r.createElement(p.Z,{onClick:k,style:{color:"white"}},f?r.createElement(m.Z,null):r.createElement(d.Z,null)),r.createElement(p.Z,{"aria-label":"close",onClick:c,style:{color:"white"}},r.createElement(u.Z,null)))),r.createElement(i.Z,null,h))})),b=r.forwardRef((function(e,t){return r.createElement(c.Z,(0,n.Z)({direction:"up",ref:t},e))}))},39511:(e,t,a)=>{a.d(t,{b:()=>l});var n=a(67294),r=a(83321),o=a(32102);const l=(0,n.memo)((e=>{let{buttonText:t,fullScreen:a=!1,title:l=t,children:i}=e;const[c,s]=(0,n.useState)(!1),A=(0,n.useCallback)((e=>{s(!0),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),[]),p=(0,n.useCallback)((()=>{s(!1)}),[]);return n.createElement(n.Fragment,null,n.createElement(r.Z,{"data-is-view-more-button":"true",onClick:A,variant:"outlined",size:"small"},t),n.createElement(o.s,{open:c,onClose:p,title:l,fullScreen:a},i))}))},53143:(e,t,a)=>{a.d(t,{S:()=>r});var n=a(52263);function r(){const{i18n:e}=(0,n.Z)(),t=e.currentLocale;return"zh"===t||"zh_cn"===t||"zh_CN"==t}},12356:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>A,default:()=>h,frontMatter:()=>s,metadata:()=>p,toc:()=>m});var n=a(83117),r=(a(67294),a(3905)),o=a(65488),l=a(85162),i=a(39511),c=a(41220);const s={sidebar_position:1,title:"Object Cache"},A=void 0,p={unversionedId:"cache/cache-type/object",id:"cache/cache-type/object",title:"Object Cache",description:"Object cache refers to mapping id to entity object. This is the simplest and most basic cache.",source:"@site/docs/cache/cache-type/object.mdx",sourceDirName:"cache/cache-type",slug:"/cache/cache-type/object",permalink:"/jimmer-doc/docs/cache/cache-type/object",draft:!1,editUrl:"https://github.com/babyfish-ct/jimmer-doc/tree/main/docs/cache/cache-type/object.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Object Cache"},sidebar:"tutorialSidebar",previous:{title:"Cache type",permalink:"/jimmer-doc/docs/cache/cache-type/"},next:{title:"Association Cache",permalink:"/jimmer-doc/docs/cache/cache-type/association"}},d={},m=[{value:"Enabling Object Caching",id:"enabling-object-caching",level:2},{value:"Using Object Cache",id:"using-object-cache",level:2},{value:"Query Based on Id",id:"query-based-on-id",level:3},{value:"Using Object Fetchers",id:"using-object-fetchers",level:3},{value:"Cache Invalidation",id:"cache-invalidation",level:2}],u={toc:m};function h(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Object cache refers to mapping id to entity object. This is the simplest and most basic cache."),(0,r.kt)(c.RI,{mdxType:"ObjectCache"}),(0,r.kt)("h2",{id:"enabling-object-caching"},"Enabling Object Caching"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Bean\npublic CacheFactory cacheFactory(\n    RedisConnectionFactory connectionFactory, \n    ObjectMapper objectMapper\n) {\n\n    RedisTemplate<String, byte[]> redisTemplate =\n        RedisCaches.cacheRedisTemplate(connectionFactory);\n\n    return new CacheFactory() {\n\n        @Override\n        // highlight-next-line  \n        public Cache<?, ?> createObjectCache(@NotNull ImmutableType type) {\n            return new ChainCacheBuilder<>()\n                .add(\n                    new CaffeineBinder<>(512, Duration.ofSeconds(1))\n                )\n                .add(\n                    new RedisValueBinder<>(\n                        redisTemplate,\n                        objectMapper,\n                        type,\n                        Duration.ofMinutes(30)\n                    )\n                )\n                .build();\n        }\n\n        ...omit other code...\n    };\n}\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"@Bean\nfun cacheFactory(\n    connectionFactory: RedisConnectionFactory,\n    objectMapper: ObjectMapper\n): KCacheFactory {\n\n    val redisTemplate = RedisCaches.cacheRedisTemplate(connectionFactory)\n\n    return object: KCacheFactory {\n\n        // highlight-next-line\n        override fun createObjectCache(type: ImmutableType): Cache<*, *>? =\n            ChainCacheBuilder<Any, Any>()\n                .add(\n                    CaffeineBinder(512, Duration.ofSeconds(1))\n                )\n                .add(\n                    RedisValueBinder(\n                        redisTemplate,\n                        objectMapper,\n                        type,\n                        Duration.ofMinutes(30)\n                    )\n                )\n                .build()\n\n        ...omit other code...\n    }\n}\n")))),(0,r.kt)("p",null,"If you don't want to support object cache for some entity types, just return null."),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Override\npublic Cache<?, ?> createObjectCache(ImmutableType type) {\n    if (type.getJavaClass() == SomeEnitity.class) {\n        // highlight-next-line\n        return null;\n    }\n    ...\n}\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"override fun createObjectCache(type: ImmutableType): Cache<*, *>? =\n    if (type.javaClass === SomeEnitity::class.java) {\n        // highlight-next-line\n        null\n    } else {\n        ...\n    }\n")))),(0,r.kt)("h2",{id:"using-object-cache"},"Using Object Cache"),(0,r.kt)("p",null,"There are two usage patterns that can utilize the object cache:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Query entity objects ",(0,r.kt)("em",{parentName:"p"},"(or their collections)")," by id ",(0,r.kt)("em",{parentName:"p"},"(or their collections)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Use object fetchers to fetch any non-id fields of associated objects"))),(0,r.kt)("h3",{id:"query-based-on-id"},"Query Based on Id"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"Map<Long, Book> bookMap = sqlClient.findMapByIds(\n        Book.class,\n        Arrays.asList(1L, 2L, 3L, 4L, 999L) \n);\nSystem.out.println(bookMap);\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"val bookMap = sqlClient.findMapByIds(\n    Book::class, \n    listOf(1L, 2L, 3L, 4L, 999L)\n)\nprintln(bookMap)\n")))),(0,r.kt)("p",null,"Jimmer first looks up the data in the cache with keys ",(0,r.kt)("inlineCode",{parentName:"p"},"Book-1"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Book-2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Book-3"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Book-4")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Book-999"),". "),(0,r.kt)("p",null,"Suppose the data corresponding to these keys cannot be found in the cache:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"127.0.0.1:6379> keys Book-*\n(empty array)\n")),(0,r.kt)("p",null,"So the following SQL is executed to load data from the database:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"select\n    tb_1_.ID,\n    tb_1_.NAME, \n    tb_1_.EDITION,\n    tb_1_.PRICE,\n    tb_1_.STORE_ID\nfrom BOOK tb_1_ \nwhere\n    tb_1_.ID in (\n        ? /* 1 */, ? /* 2 */, ? /* 3 */, ? /* 4 */, ? /* 999 */  \n    )\n")),(0,r.kt)("p",null,"Jimmer will put the query results into the cache, so we can view this data in the cache:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'127.0.0.1:6379> keys Book-*  \n1) "Book-4"\n2) "Book-2"\n3) "Book-3"\n4) "Book-1"\n5) "Book-999"\n127.0.0.1:6379> get Book-1\n"{\\"id\\":1,\\"name\\":\\"Learning GraphQL\\",\\"edition\\":1,\\"price\\":50.00,\\"store\\":{\\"id\\":1}}"\n127.0.0.1:6379> get Book-2\n"{\\"id\\":2,\\"name\\":\\"Learning GraphQL\\",\\"edition\\":2,\\"price\\":55.00,\\"store\\":{\\"id\\":1}}"\n127.0.0.1:6379> get Book-3\n"{\\"id\\":3,\\"name\\":\\"Learning GraphQL\\",\\"edition\\":3,\\"price\\":51.00,\\"store\\":{\\"id\\":1}}"\n127.0.0.1:6379> get Book-4\n"{\\"id\\":4,\\"name\\":\\"Effective TypeScript\\",\\"edition\\":1,\\"price\\":73.00,\\"store\\":{\\"id\\":1}}"\n127.0.0.1:6379> get Book-999\n"<null>"\n127.0.0.1:6379>\n')),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The non-existent data ",(0,r.kt)("inlineCode",{parentName:"p"},"Book-999")," is also cached with the special value ",(0,r.kt)("inlineCode",{parentName:"p"},"<null>"),".")),(0,r.kt)("p",null,"Undoubtedly, before the data in the cache expires, executing the Java/Kotlin code above again will directly return the data from the cache without any SQL being generated."),(0,r.kt)("h3",{id:"using-object-fetchers"},"Using Object Fetchers"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'BookTable table = Tables.BOOK_TABLE;\nList<Book> books = sqlClient\n    .createQuery(table)\n    .where(table.name().like("GraphQL"))\n    .select(\n        table.fetch(\n            Fetchers.BOOK_FETCHER\n                .allScalarFields()\n                // highlight-next-line\n                .store(\n                    Fetchers.BOOK_STORE_FETCHER\n                        .name()\n                )\n        )\n    )\n    .execute();\nSystem.out.println(books); \n'))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'val books = sqlClient\n    .createQuery(Book::class) {\n        where(table.name like "GraphQL")\n        select(\n            table.fetchBy {\n                allScalarFields()\n                // highlight-next-line\n                store {\n                    name()\n                }\n            }\n        )\n    }\n    .execute()\nprintln(books)\n')))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"1st SQL: Query aggregate root"),(0,r.kt)("p",{parentName:"li"},"First, query the aggregate root object, executing the following SQL:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"select\n    tb_1_.ID,\n    tb_1_.NAME,\n    tb_1_.EDITION,\n    tb_1_.PRICE,\n    tb_1_.STORE_ID\nfrom BOOK tb_1_\nwhere\n    tb_1_.NAME like ? /* %GraphQL% */\n")),(0,r.kt)("p",{parentName:"li"},"The fuzzy query in the code is implemented here to obtain some Book objects. Such objects obtained by direct user queries are called aggregate root objects."),(0,r.kt)("admonition",{parentName:"li",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Jimmer does not cache aggregate objects returned by user queries, because the consistency of such query results cannot be guaranteed."),(0,r.kt)("p",{parentName:"admonition"},"Even if cache them at the cost of sacrificing consistency is required, it is a business need of the user rather than the framework."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"2nd SQL: Fetch many-to-one association ",(0,r.kt)("inlineCode",{parentName:"p"},"Book.store")),(0,r.kt)("p",{parentName:"li"},"The above code will return a series of aggregate root objects. If using the official sample data in the database, it will return 6 aggregate root objects."),(0,r.kt)("p",{parentName:"li"},"The object fetcher in the code contains the many-to-one association ",(0,r.kt)("inlineCode",{parentName:"p"},"Book.store")," and expects to query non-id properties of the associated object ",(0,r.kt)("em",{parentName:"p"},"(information that cannot be expressed by the foreign key of the current table)"),", so Jimmer will query the associated object for all aggregate root objects."),(0,r.kt)("p",{parentName:"li"},"Fortunately, the associated attribute ",(0,r.kt)("inlineCode",{parentName:"p"},"Book.store")," is based on a real foreign key. The foreign key itself represents the id of the parent object. There is no need to obtain the associated object id through additional queries or ",(0,r.kt)("a",{parentName:"p",href:"./association"},"association cache"),"."),(0,r.kt)("p",{parentName:"li"},"Suppose the foreign key ",(0,r.kt)("inlineCode",{parentName:"p"},"STORE_ID")," of the 6 BOOK data has two distinct values after deduplication, 1 and 2."),(0,r.kt)("p",{parentName:"li"},"Jimmer first looks up the data in the cache with keys ",(0,r.kt)("inlineCode",{parentName:"p"},"BookStore-1")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"BookStore-2"),"."),(0,r.kt)("p",{parentName:"li"},"Suppose the data corresponding to these keys cannot be found in the cache:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"127.0.0.1:6379> keys BookStore-*\n(empty array)\n")),(0,r.kt)("p",{parentName:"li"},"Then the following SQL is executed to load data from the database:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"select\n    tb_1_.ID,\n    tb_1_.NAME,\n    tb_1_.WEBSITE\nfrom BOOK_STORE tb_1_\nwhere\n    tb_1_.ID in (\n        ? /* 1 */, ? /* 2 */\n    ) \n")),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"We only need the ",(0,r.kt)("inlineCode",{parentName:"p"},"ID")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"NAME")," fields, but here all fields are queried, which is different from what was discussed earlier in ",(0,r.kt)("a",{parentName:"p",href:"../../query/object-fetcher"},"Object Fetcher"),". Please view:"),(0,r.kt)(i.b,{buttonText:"The difference compared to not enabling cache",mdxType:"ViewMore"},(0,r.kt)("p",{parentName:"admonition"},"In cache mode, the SQL generated here is:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"select\n    tb_1_.ID,\n    tb_1_.NAME,\n    /* highlight-next-line */\n    tb_1_.WEBSITE \n...omit other code...\n")),(0,r.kt)("p",{parentName:"admonition"},"However, the object fetcher in the Java/Kotlin code only requires the ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," of the associated object, not all fields:"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"...omit other code...\n.select(\n    table.fetch(\n        Fetchers.BOOK_FETCHER\n            .allScalarFields()\n            .store(\n                Fetchers.BOOK_STORE_FETCHER\n                    // highlight-next-line\n                    .name()\n            )\n    )\n)\n"))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"...omit other code...\nselect(\n    table.fetchBy {\n        allScalarFields()\n        store {\n            // highlight-next-line\n            name() \n        }\n    }\n)\n")))),(0,r.kt)("p",{parentName:"admonition"},"In cache mode, even if the object fetcher does not need all non-associative properties of the associated object, all non-associative properties of the associated object will still be queried from the database."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Only in this way can the cached objects have reusable value for any business scenario.")),(0,r.kt)("p",{parentName:"admonition"},"If cache is not enabled, Jimmer will ensure that the generated SQL queries only the information needed for the current business scenario:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"select\n    tb_1_.ID,\n    tb_1_.NAME\n    // WEBSITE column is not queried here  \nfrom BOOK_STORE tb_1_\n...omit other code...\n")))),(0,r.kt)("p",{parentName:"li"},"Jimmer will put the query results into the cache, so we can view this data in the cache:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'127.0.0.1:6379> keys BookStore-*\n1) "BookStore-1" \n2) "BookStore-2"\n127.0.0.1:6379> get BookStore-1\n"{\\"id\\":1,\\"name\\":\\"O\'REILLY\\",\\"website\\":null}"\n127.0.0.1:6379> get BookStore-2\n"{\\"id\\":2,\\"name\\":\\"MANNING\\",\\"website\\":null}"\n127.0.0.1:6379>\n')),(0,r.kt)("p",{parentName:"li"},"Undoubtedly, before the data in the cache expires, executing the Java/Kotlin code above again will directly return the associated data from the cache without generating the 2nd SQL statement."))),(0,r.kt)("p",null,"Finally, Jimmer concatenates the results of the two steps as the final data returned to the user:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'[\n    {\n        "id":1, \n        "name":"Learning GraphQL",\n        "edition":1,\n        "price":50,\n        // highlight-next-line\n        "store":{\n            "id":1,\n            "name":"O\'REILLY" \n        }\n    },\n    {\n        ...omit...\n    },\n    {\n        ...omit... \n    },\n    {\n        "id":10,\n        "name":"GraphQL in Action",\n        "edition":1,\n        "price":80,\n        // highlight-next-line \n        "store":{\n            "id":2,\n            "name":"MANNING"\n        }\n    },\n    {\n        ...omit...\n    }, \n    {\n        ...omit...\n    }\n]\n')),(0,r.kt)("h2",{id:"cache-invalidation"},"Cache Invalidation"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"To use Jimmer's automatic cache invalidation, ",(0,r.kt)("a",{parentName:"p",href:"../../mutation/trigger"},"triggers")," need to be enabled first. ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If BinLog trigger is enabled, modifying the database by any means can lead to Jimmer's cache consistency intervention. For example, directly execute the following SQL in the SQL IDE:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"update BOOK_STORE\nset WEBSITE = 'https://www.manning.com'\nwhere ID = 2; \n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If only Transaction trigger is enabled, Jimmer's API must be used to modify the database:"),(0,r.kt)(o.Z,{groupId:"language",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'BookStoreTable table = Tables.BOOK_STORE_TABLE;\nsqlClient\n    .createUpdate(table)\n    .set(table.website(), "https://www.manning.com")\n    .where(table.id().eq(2L))\n    .execute();\n'))),(0,r.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'sqlClient\n    .createUpdate(BookStore::class) {\n        set(table.website, "https://www.manning.com")\n        where(table.id eq 2L)\n    }\n    .execute()\n')))))),(0,r.kt)("p",null,"Regardless of which way above is used to modify the data, you will see the following log output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Delete data from redis: [BookStore-2]\n")))}h.isMDXComponent=!0},64608:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/association-cache-dbeabc0a449a23469331c7bd822e1540.webp"},29148:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/calculated-cache-b73a5f78ce1bc73348621025d583aa47.webp"},68393:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/cloud-4029a49b29895e2ef7f199be53c647c8.webp"},86116:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/consistency-782cc1bfaf8d5f2c50a6cf4fd290c383.webp"},74513:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dto-explosion-f0066fdbe10e41d79a21628460e40468.webp"},78706:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/generated-java-32e67690ba94b4f0d63bbd248844dd71.webp"},55666:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/generated-kt-2d53fe7a5ad2ee91828171f07954eea8.webp"},12036:(e,t,a)=>{a.d(t,{Z:()=>n});const n="data:image/webp;base64,UklGRlwDAABXRUJQVlA4WAoAAAAoAAAAIwAAHwAASUNDUBQCAAAAAAIUYXBwbAQAAABtbnRyUkdCIFhZWiAH5wADABkAEgA3ABdhY3NwQVBQTAAAAABBUFBMAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWFwcGzwmkVkcoBXfc7VHI8vo5G3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApkZXNjAAAA/AAAAGVjcHJ0AAABZAAAACN3dHB0AAABiAAAABRyWFlaAAABnAAAABRnWFlaAAABsAAAABRiWFlaAAABxAAAABRyVFJDAAAB2AAAABBjaGFkAAAB6AAAACxiVFJDAAAB2AAAABBnVFJDAAAB2AAAABBkZXNjAAAAAAAAAAtVMjdVMkc2UjRCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHRleHQAAAAAQ29weXJpZ2h0IEFwcGxlIEluYy4sIDIwMjMAAFhZWiAAAAAAAADz2AABAAAAARYIWFlaIAAAAAAAAHLJAAA6rAAAAZFYWVogAAAAAAAAXQgAALT9AAAPUFhZWiAAAAAAAAAnBQAAEFYAAMJMcGFyYQAAAAAAAAAAAAH2BHNmMzIAAAAAAAELtwAABZb///NXAAAHKQAA/df///u3///9pgAAA9oAAMD2VlA4IK4AAABQBgCdASokACAAPo04mEelIyKhMBVdUKARiWIAxPLgLf/smI7f4opUf8y4Na5nNiiOM9fdUSb/n/4qAAD+76lTf73FZ+2hhhPQzsV9rZahOwFWYzUW6kNtghYCTvo/PpeTwWM9j+YlVt+tUxq84FN9eUFzu7J4H42kzR6StHV7YV1WZG+EvIW3H4gjv94UShhqQ2cvrX/y91uP4+a/hCq3skB3vjdta+qP9EVAAABFWElGbAAAAE1NACoAAAAIAAQBGgAFAAAAAQAAAD4BGwAFAAAAAQAAAEYBKAADAAAAAQACAACHaQAEAAAAAQAAAE4AAAAAAAAAkAAAAAEAAACQAAAAAQACoAIABAAAAAEAAAAkoAMABAAAAAEAAAAgAAAAAA=="},34502:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-headers-676e3ff2a6da158f8a8b2b0d43633896.webp"},71876:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/multi-view-cache-57a9e6ec32df6b23eceac9376d0268d1.webp"},61278:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/object-cache-5a67daa9966fe7b728af64423333ba74.webp"},21283:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/public-wechat-dfd717c8dce4e5464c055768e06cb22b.webp"},91059:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/save-d37c62a7516ccbf2bc561f935cf77de2.webp"},66003:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/shape-ba5246fcd39e013ea28a73144614bd9d.webp"},65048:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/swagger-authorize-144b7e355d1d59381a6fa660b743e2a7.webp"},55515:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/api-2a7966c9db85aec24ae0d1fe0cb62c17.webp"},20466:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/code-bfdfb727fb3ccc54d12fe6a4c5ddc58f.webp"},98272:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/family-b9c1857991f5f8d662444aa9f6e2b85f.webp"},27557:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/field-05834b18f87cfe96cfd1d1a72750e9e5.webp"},69339:(e,t,a)=>{a.d(t,{Z:()=>n});const n="data:image/webp;base64,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"}}]);