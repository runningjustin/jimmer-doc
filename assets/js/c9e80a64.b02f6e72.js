"use strict";(self.webpackChunkdocusaurus_code=self.webpackChunkdocusaurus_code||[]).push([[1326],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>u});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),d=p(n),u=o,k=d["".concat(s,".").concat(u)]||d[u]||c[u]||i;return n?a.createElement(k,l(l({ref:t},m),{},{components:n})):a.createElement(k,l({ref:t},m))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,l=new Array(i);l[0]=d;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:o,l[1]=r;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},15368:(e,t,n)=>{n.d(t,{Z:()=>N});var a,o,i,l,r,s,p,m,c,d,u,k,h,g,A,f,b,y=n(67294);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}const N=e=>{let{title:t,titleId:n,...N}=e;return y.createElement("svg",v({width:431,height:202,xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},N),t?y.createElement("title",{id:n},t):null,a||(a=y.createElement("path",{d:"M25 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4H29q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),o||(o=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(25 25)"},y.createElement("tspan",{dy:16,x:42.5},y.createElement("tspan",null,"BookStore")))),i||(i=y.createElement("path",{d:"M173 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4h-77q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),l||(l=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(173 25)"},y.createElement("tspan",{dy:16,x:42.5},y.createElement("tspan",null,"Book")))),r||(r=y.createElement("path",{d:"M321 29q0-4 4-4h77q4 0 4 4v25q0 4-4 4h-77q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),s||(s=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(321 25)"},y.createElement("tspan",{dy:16,x:42.5},y.createElement("tspan",null,"Author")))),p||(p=y.createElement("path",{d:"M25 148q0-4 4-4h79q4 0 4 4v25q0 4-4 4H29q-4 0-4-4Z",stroke:"rgba(33,41,48,1)",strokeWidth:2,fill:"#fff"})),m||(m=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:5.875,transform:"translate(25 144)"},y.createElement("tspan",{dy:16,x:43.5},y.createElement("tspan",null,"TreeNode")))),c||(c=y.createElement("path",{d:"M111 42h61",stroke:"#7f7f7f",strokeWidth:2,fill:"none"})),d||(d=y.createElement("path",{fill:"#fff",d:"M131 34h21v16h-21z"})),u||(u=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:31.375},y.createElement("tspan",{dy:16,x:141.5},y.createElement("tspan",null,"0:N")))),k||(k=y.createElement("path",{d:"M259 42h61",stroke:"#7f8b98",strokeWidth:2,fill:"none"})),h||(h=y.createElement("path",{fill:"#fff",d:"M277.5 34h24v16h-24z"})),g||(g=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:31.375},y.createElement("tspan",{dy:16,x:289.5},y.createElement("tspan",null,"M:N")))),A||(A=y.createElement("path",{d:"m68.983 143-.483-29H142v47h-29",stroke:"#7f8b98",strokeWidth:2,fill:"none"})),f||(f=y.createElement("path",{fill:"#fff",d:"M118.248 106h21v16h-21z"})),b||(b=y.createElement("text",{fontFamily:"\\u5FAE\\u8F6F\\u96C5\\u9ED1",textAnchor:"middle",fontSize:13,fill:"#323232",fontWeight:400,y:103.375},y.createElement("tspan",{dy:16,x:128.748},y.createElement("tspan",null,"0:N")))))}},85162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294),o=n(34334);const i="tabItem_Ymn6";function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(i,l),hidden:n},t)}},65488:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(83117),o=n(67294),i=n(34334),l=n(72389),r=n(67392),s=n(7094),p=n(12466);const m="tabList__CuJ",c="tabItem_LNqP";function d(e){var t;const{lazy:n,block:l,defaultValue:d,values:u,groupId:k,className:h}=e,g=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),A=u??g.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),f=(0,r.l)(A,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const b=null===d?d:d??(null==(t=g.find((e=>e.props.default)))?void 0:t.props.value)??g[0].props.value;if(null!==b&&!A.some((e=>e.value===b)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${b}" but none of its children has the corresponding value. Available values are: ${A.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:v}=(0,s.U)(),[N,B]=(0,o.useState)(b),w=[],{blockElementScrollPositionUntilNextRender:T}=(0,p.o5)();if(null!=k){const e=y[k];null!=e&&e!==N&&A.some((t=>t.value===e))&&B(e)}const x=e=>{const t=e.currentTarget,n=w.indexOf(t),a=A[n].value;a!==N&&(T(t),B(a),null!=k&&v(k,String(a)))},C=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{const t=w.indexOf(e.currentTarget)+1;n=w[t]??w[0];break}case"ArrowLeft":{const t=w.indexOf(e.currentTarget)-1;n=w[t]??w[w.length-1];break}}null==(t=n)||t.focus()};return o.createElement("div",{className:(0,i.Z)("tabs-container",m)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":l},h)},A.map((e=>{let{value:t,label:n,attributes:l}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>w.push(e),onKeyDown:C,onFocus:x,onClick:x},l,{className:(0,i.Z)("tabs__item",c,null==l?void 0:l.className,{"tabs__item--active":N===t})}),n??t)}))),n?(0,o.cloneElement)(g.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function u(e){const t=(0,l.Z)();return o.createElement(d,(0,a.Z)({key:String(t)},e))}},41220:(e,t,n)=>{n.d(t,{$0:()=>b,BP:()=>d,Hj:()=>k,Kj:()=>h,RI:()=>c,ZJ:()=>g,_R:()=>E,aO:()=>y,bD:()=>x,bg:()=>T,bn:()=>B,ce:()=>v,ef:()=>w,gc:()=>A,i5:()=>f,jl:()=>C,qj:()=>u,vc:()=>N,zf:()=>m});var a=n(67294),o=n(98456),i=n(21737),l=n(53143),r=n(86886),s=n(72389);const p=(0,a.memo)((e=>{let{src:t}=e;const n=(0,l.S)(),[p,m]=(0,a.useState)(!1),c=(0,a.useCallback)((()=>m(!0)),[]),d=(0,s.Z)();return d&&!function(){const e=O;if("boolean"==typeof e)return e;var t=document.createElement("canvas");const n=t.getContext&&t.getContext("2d")&&0==t.toDataURL("image/webp").indexOf("data:image/webp");return O=n,n}()&&t.endsWith(".webp")?a.createElement(i.Z,{security:"error"},n?"\u65e0\u6cd5\u5c55\u793a\u56fe\u7247\uff0c\u8bf7\u4f7f\u7528\u652f\u6301webp\u7684\u6d4f\u89c8\u5668":"Unable to display image, please use a browser that supports webp"):a.createElement(a.Fragment,null,d&&!p&&a.createElement(r.ZP,{container:!0,direction:"column",alignItems:"center"},a.createElement(r.ZP,{item:!0},a.createElement(o.Z,null)),a.createElement(r.ZP,{item:!0},n?"\u52a0\u8f7d\u56fe\u7247\u4e2d":"Loading image")),a.createElement("img",{src:t,onLoad:c}))})),m=(0,a.memo)((()=>a.createElement(p,{src:j}))),c=(0,a.memo)((()=>a.createElement(p,{src:Z}))),d=(0,a.memo)((()=>a.createElement(p,{src:V}))),u=(0,a.memo)((()=>a.createElement(p,{src:S}))),k=(0,a.memo)((()=>a.createElement(p,{src:D}))),h=(0,a.memo)((()=>a.createElement(p,{src:I}))),g=(0,a.memo)((()=>a.createElement(p,{src:q}))),A=(0,a.memo)((()=>a.createElement(p,{src:F}))),f=(0,a.memo)((()=>a.createElement(p,{src:R}))),b=(0,a.memo)((()=>a.createElement(p,{src:L}))),y=(0,a.memo)((()=>a.createElement(p,{src:P}))),v=(0,a.memo)((()=>a.createElement(p,{src:G}))),N=(0,a.memo)((()=>a.createElement(p,{src:J}))),B=(0,a.memo)((()=>a.createElement(p,{src:H}))),w=(0,a.memo)((()=>a.createElement(p,{src:K}))),T=(0,a.memo)((()=>a.createElement(p,{src:W}))),x=(0,a.memo)((()=>a.createElement(p,{src:M}))),C=(0,a.memo)((()=>a.createElement(p,{src:U}))),E=(0,a.memo)((()=>a.createElement(p,{src:Q})));let O;const j=n(74513).Z,Z=n(61278).Z,V=n(64608).Z,S=n(29148).Z,D=n(71876).Z,I=n(86116).Z,q=n(68393).Z,F=n(78706).Z,R=n(55666).Z,L=n(12036).Z,P=n(65048).Z,G=n(34502).Z,J=n(91059).Z,H=n(66003).Z,K=(n(15368).Z,n(55515).Z),W=n(20466).Z,M=n(98272).Z,U=n(27557).Z,Q=n(69339).Z;n(68555).Z},32102:(e,t,n)=>{n.d(t,{s:()=>h});var a=n(83117),o=n(67294),i=n(42293),l=n(50657),r=n(6514),s=n(54776),p=n(10155),m=n(15861),c=n(93946),d=n(9137),u=n(61274),k=n(50594);const h=(0,o.memo)((e=>{let{open:t,fullScreen:n=!1,title:a,onClose:s,children:h}=e;const[A,f]=(0,o.useState)(n),b=(0,o.useCallback)((()=>{f((e=>!e))}),[]);return o.createElement(l.Z,{open:t,onClose:s,fullScreen:A,TransitionComponent:g,maxWidth:"md"},o.createElement(i.Z,{sx:{position:"relative"}},o.createElement(p.Z,null,o.createElement(m.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},a),o.createElement(c.Z,{onClick:b,style:{color:"white"}},A?o.createElement(u.Z,null):o.createElement(d.Z,null)),o.createElement(c.Z,{"aria-label":"close",onClick:s,style:{color:"white"}},o.createElement(k.Z,null)))),o.createElement(r.Z,null,h))})),g=o.forwardRef((function(e,t){return o.createElement(s.Z,(0,a.Z)({direction:"up",ref:t},e))}))},39511:(e,t,n)=>{n.d(t,{b:()=>l});var a=n(67294),o=n(83321),i=n(32102);const l=(0,a.memo)((e=>{let{buttonText:t,fullScreen:n=!1,title:l=t,children:r}=e;const[s,p]=(0,a.useState)(!1),m=(0,a.useCallback)((e=>{p(!0),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),[]),c=(0,a.useCallback)((()=>{p(!1)}),[]);return a.createElement(a.Fragment,null,a.createElement(o.Z,{"data-is-view-more-button":"true",onClick:m,variant:"outlined",size:"small"},t),a.createElement(i.s,{open:s,onClose:c,title:l,fullScreen:n},r))}))},53143:(e,t,n)=>{n.d(t,{S:()=>o});var a=n(52263);function o(){const{i18n:e}=(0,a.Z)(),t=e.currentLocale;return"zh"===t||"zh_cn"===t||"zh_CN"==t}},12554:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>c});var a=n(83117),o=(n(67294),n(3905)),i=n(65488),l=n(85162);n(39511),n(41220);const r={sidebar_position:2,title:"Return Output DTO"},s=void 0,p={unversionedId:"quick-view/fetch/export/dto",id:"quick-view/fetch/export/dto",title:"Return Output DTO",description:"Java/Kotlin Applications Use Query Results",source:"@site/docs/quick-view/fetch/export/dto.mdx",sourceDirName:"quick-view/fetch/export",slug:"/quick-view/fetch/export/dto",permalink:"/jimmer-doc/docs/quick-view/fetch/export/dto",draft:!1,editUrl:"https://github.com/babyfish-ct/jimmer-doc/tree/main/docs/quick-view/fetch/export/dto.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Return Output DTO"},sidebar:"tutorialSidebar",previous:{title:"Directly Return Entities",permalink:"/jimmer-doc/docs/quick-view/fetch/export/entity"},next:{title:"Comparison",permalink:"/jimmer-doc/docs/quick-view/fetch/export/comparison"}},m={},c=[{value:"Java/Kotlin Applications Use Query Results",id:"javakotlin-applications-use-query-results",level:2},{value:"DTO Language",id:"dto-language",level:2},{value:"DTO Language Plugin",id:"dto-language-plugin",level:3},{value:"Define DTO Files",id:"define-dto-files",level:3},{value:"View Generated DTOs",id:"view-generated-dtos",level:3},{value:"New BookRepository",id:"new-bookrepository",level:2},{value:"Review Old BookRepository",id:"review-old-bookrepository",level:3},{value:"Write New BookRepository",id:"write-new-bookrepository",level:3},{value:"Try New BookRepository",id:"try-new-bookrepository",level:3},{value:"Write BookController",id:"write-bookcontroller",level:2},{value:"Document Comments",id:"document-comments",level:2},{value:"Flat Association ID",id:"flat-association-id",level:2},{value:"Flat Associated Objects",id:"flat-associated-objects",level:2}],d={toc:c};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"javakotlin-applications-use-query-results"},"Java/Kotlin Applications Use Query Results"),(0,o.kt)("p",null,"In the ",(0,o.kt)("a",{parentName:"p",href:"./entity"},"previous article"),", we introduced that the web service does not need to define DTO types, directly returns entities, and uses ",(0,o.kt)("inlineCode",{parentName:"p"},"@FetchBy")," annotations to restore all DTO type definitions in automatically generated client code.  "),(0,o.kt)("p",null,"However, what if a query result is not returned to the Web remote client, but the server itself uses it?  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'List<Book> books = bookRepository.findBooksByName(\n    "graphql",\n    Fetchers.BOOK_FETCHER \u2776\n        .name()\n        .edition()\n);\nfor (Book book : books) {\n    System.out.println("--------");\n    System.out.println("Id: " + book.id());\n    System.out.println("Name: " + book.id());\n    System.out.println("Edition: " + book.id());\n    System.out.println("Price:" + book.price()); \u2777\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},'val books = bookRepository.findBooksByName(\n    "graphql",\n    newFetcher(Book::class).by { \u2776\n        name()\n        edition()\n    }  \n)\nfor (book in books) {\n    println("--------")\n    println("Id: ${book.id}")\n    println("Name: ${book.name}")\n    println("Edition: ${book.edition}")  \n    println("Price: ${book.price}") \u2777\n}  \n')))),(0,o.kt)("p",null,"Here, there is no web service or remote call, it is just a call within the same JVM  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2776 Only queries three properties of the object: ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," ",(0,o.kt)("em",{parentName:"p"},"(implicit)"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"edition"),"  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2777 Access the unqueried ",(0,o.kt)("inlineCode",{parentName:"p"},"price")," property of the ",(0,o.kt)("inlineCode",{parentName:"p"},"book")," object.  "),(0,o.kt)("p",{parentName:"li"},"This erroneous access will cause an exception:  "),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Exception type: org.babyfish.jimmer.UnloadedException  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Exception message: The property "com.yourcompany.yourproject.model.Book.price" is unloaded  '))))),(0,o.kt)("p",null,"It can be seen that it is not enough to only consider automatically defining DTO types in remote client APIs. When the JVM itself directly uses query results, if sufficient compile-time security is required, defining DTO types for Java/Kotlin will be inevitable and necessary to ensure better compile-time safety.   "),(0,o.kt)("h2",{id:"dto-language"},"DTO Language"),(0,o.kt)("p",null,"The mutual conversion between entity objects and DTO objects is a boring, labor-intensive and error-prone thing that is common pain point in information management software development. Although many frameworks are trying to mitigate this problem, development efficiency has remained unable to be improved qualitatively.  "),(0,o.kt)("p",null,"In order to minimize the cost of DTO type creation, Jimmer introduces the DTO language, which supplements the Java/Kotlin type system and can quickly generate Java/Kotlin DTO type definitions at compile time.   "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"This article only provides a quick overview without detailed introduction. For complete information, please refer to ",(0,o.kt)("a",{parentName:"p",href:"/jimmer-doc/docs/object/view/dto-language"},"DTO Language"),"  ")),(0,o.kt)("h3",{id:"dto-language-plugin"},"DTO Language Plugin"),(0,o.kt)("p",null,"A jimmer user provide Intellij plugins for the DTO language. For details, see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ClearPlume/jimmer-dto"},"https://github.com/ClearPlume/jimmer-dto")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Installing the DTO language plugin is not required, but you can get a better development experience after installation, so it is recommended to install.")),(0,o.kt)("h3",{id:"define-dto-files"},"Define DTO Files"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"For any Java/Kotlin project that needs to use the DTO language, create a subdirectory ",(0,o.kt)("inlineCode",{parentName:"p"},"dto")," under its ",(0,o.kt)("inlineCode",{parentName:"p"},"src/main")," directory. That is, ",(0,o.kt)("inlineCode",{parentName:"p"},"src/main/dto")," is where DTO files are stored.   ")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create a ",(0,o.kt)("inlineCode",{parentName:"p"},"Book.dto")," file under ",(0,o.kt)("inlineCode",{parentName:"p"},"src/main/dto")," and enter the following code:  "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:'language-sh="Book.dto"'},"export com.yourcompany.yourproject.model.Book  \n    -> package com.yourcompany.yourproject.model.dto  \n\nSimpleBookView {  \n    id  \n    name\n}  \n\nComplexBookView {  \n    #allScalars(this)\n    store {  \n        id   \n        name\n    }\n    authors {\n        id\n        firstName\n        lastName   \n    }\n}\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Compile the project ",(0,o.kt)("em",{parentName:"p"},"(either use gradle/maven commands on the command line or click gradle/maven build on the right side of Intellij)")," to generate related DTO types  "))),(0,o.kt)("h3",{id:"view-generated-dtos"},"View Generated DTOs"),(0,o.kt)("p",null,"After compilation, the following two types ",(0,o.kt)("inlineCode",{parentName:"p"},"SimpleBookView")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"ComplexView")," will be generated automatically. The code for each is as follows:  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"SimpleBookView"),"  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="SimpleBookView.java"',title:'"SimpleBookView.java"'},'// highlight-next-line \n@GeneratedBy( \u2776\n        file = "<yourproject>/src/main/dto/Book.dto"\n)\npublic class SimpleBookView implements View<Book> { \u2777\n\n    private long id;  \n\n    @NotNull  \n    private String name;  \n\n    public SimpleBookView(@NotNull Book base) { \u2778\n        ...omitted...\n    }\n\n    @Override \n    public Book toEntity() { \u2779\n        ...omitted...\n    }  \n\n    ...Omit getters and setters...  \n\n    ...Omit hashCode/equals/toString...\n\n    ...Omit other members...\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="SimpleBookView.kt"',title:'"SimpleBookView.kt"'},'// highlight-next-line\n@GeneratedBy( \u2776\n        file = "<yourproject>/src/main/dto/Book.dto"\n)\ndata class SimpleBookView(  \n    val id: Long\n    val name: String\n) : View<Book> { \u2777\n    constructor(base: Book): \u2778  \n        this(...omitted...)\n\n    override fun toEntity(): Book = \u2779\n        ...omitted...  \n\n    ...Omit other members...\n}\n')))),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2776 Reminds users that this is code automatically generated by Jimmer  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2777 Output DTO based on ",(0,o.kt)("inlineCode",{parentName:"p"},"Book")," entity needs to implement ",(0,o.kt)("inlineCode",{parentName:"p"},"View<Book>")," interface  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2778 Converts entity to DTO  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2779 Converts DTO to entity  ")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"ComplexBookView"),"  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="ComplexBookView.java"',title:'"ComplexBookView.java"'},'// highlight-next-line\n@GeneratedBy( \u2776\n        file = "<yourproject>/src/main/dto/Book.dto"\n)\npublic class ComplexBookView implements View<Book> { \u2777\n\n    private long id;\n\n    @NotNull  \n    private String name;\n\n    private int edition;\n\n    @NotNull\n    private BigDecimal price;\n\n    @Nullable  \n    private TargetOf_store store;  \n\n    @NotNull\n    private List<TargetOf_authors> authors;  \n\n    public ComplexBookView(@NotNull Book base) { \u2778   \n        ...omitted... \n    }\n\n    @Override\n    public Book toEntity() { \u2779\n        ...omitted...\n    }  \n\n    ...Omit getters and setters...   \n\n    ...Omit hashCode/equals/toString... \n\n    ...Omit other members...\n\n    public static class TargetOf_store implements View<BookStore> { \u277a\n\n        private long id;\n\n        @NotNull  \n        private String name;\n\n        public TargetOf_store(@NotNull BookStore base) {  \n            ...omitted...\n        }  \n\n        @Override\n        public BookStore toEntity() {  \n            ...omitted...\n        }  \n\n        ...Omit getters and setters...\n\n        ...Omit hashCode/equals/toString...\n\n        ...Omit other members...\n    }\n\n    public static class TargetOf_authors implements View<Author> { \u277b \n\n        private long id;\n\n        @NotNull  \n        private String firstName;  \n\n        @NotNull\n        private String lastName;\n\n        public TargetOf_authors(@NotNull Author base) {\n            ...omitted...\n        }  \n\n        @Override  \n        public Author toEntity() {\n            ...omitted...\n        }   \n\n        ...Omit getters and setters...  \n\n        ...Omit hashCode/equals/toString...\n\n        ...Omit other members...\n    }\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="ComplexBookView.kt"',title:'"ComplexBookView.kt"'},'// highlight-next-line\n@GeneratedBy( \u2776\n        file = "<yourproject>/src/main/dto/Book.dto"\n)\ndata class ComplexBookView(  \n    val id: Long,  \n    val name: String,\n    val edition: Int,  \n    val price: BigDecimal,\n    val store: TargetOf_store?,  \n    val authors: List<TargetOf_authors>\n) : View<Book> { \u2777\n\n    constructor(base: Book): \u2778  \n        this(...omitted...)\n\n    override fun toEntity(): Book = \u2779  \n        ...omitted...  \n\n    data class TargetOf_store( \u277a\n        val id: Long,\n        val name: String  \n    ) : View<BookStore> {  \n\n        constructor(base: BookStore):   \n            this(...omitted...)  \n\n        override fun toEntity(): BookStore =   \n            ...omitted...\n    }\n\n    data class TargetOf_authors( \u277b\n        val id: Long,  \n        val firstName: String,\n        val lastName: String  \n    ) : View<Author> {  \n\n        constructor(base: Author):  \n            this(...omitted...)   \n\n        override fun toEntity(): Author =   \n            ...omitted...\n    }  \n}\n')))),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2776 Reminds users that this is code automatically generated by Jimmer  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2777 Output DTO based on ",(0,o.kt)("inlineCode",{parentName:"p"},"Book")," entity needs to implement ",(0,o.kt)("inlineCode",{parentName:"p"},"View<Book>")," interface  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2778 Converts entity to DTO")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2779 Converts DTO to entity  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u277a DTO definition of associated object referenced by many-to-one association ",(0,o.kt)("inlineCode",{parentName:"p"},"Book.store"),"  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u277b DTO definition of associated object referenced by many-to-many association ",(0,o.kt)("inlineCode",{parentName:"p"},"Book.autors")))))),(0,o.kt)("h2",{id:"new-bookrepository"},"New BookRepository"),(0,o.kt)("h3",{id:"review-old-bookrepository"},"Review Old BookRepository"),(0,o.kt)("p",null,"In the ",(0,o.kt)("a",{parentName:"p",href:"../feature#improved-repository"},"Feature Introduction")," article, we wrote a ",(0,o.kt)("inlineCode",{parentName:"p"},"BookRepository")," class  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title = "BookRepository.java"',title:!0,"":"",'"BookRepository.java"':!0},"public class BookRepository {\n\n    @Nullable\n    public Book findBookById(\n        long id,  \n        // highlight-next-line \n        Fetcher<Book> fetcher\n    ) {\n        ...omitted...\n    }\n\n    public List<Book> findBooksByName(\n        @Nullable String name,  \n        // highlight-next-line\n        @Nullable Fetcher<Book> fetcher\n    ) {\n        ...omitted...\n    }\n\n    ...Omit other members...\n}\n"))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookRepository.kt"',title:'"BookRepository.kt"'},"class BookRepository(\n    ...Omit other members...  \n) {\n\n    fun findBookById(\n        id: Long,   \n        // highlight-next-line\n        fetcher: Fetcher<Book>\n    ): Book? =  \n        ...omitted...\n\n    fun findBooksByName(\n        name: String? = null,\n        // highlight-next-line  \n        fetcher: Fetcher<Book>? = null\n    ): List<Book> =  \n        ...omitted...\n}\n")))),(0,o.kt)("p",null,"Each query method adds a parameter of type ",(0,o.kt)("inlineCode",{parentName:"p"},"Fetcher<Book>"),". We can use it to flexibly control the format of queried objects ",(0,o.kt)("em",{parentName:"p"},"(that is, the shape of queried data structures)"),".   "),(0,o.kt)("p",null,"This is the recommended usage. The Repository is only responsible for filtering, sorting, paging and other operations, but does not control the format of the returned data. Instead, it exposes the control of the data format through the ",(0,o.kt)("inlineCode",{parentName:"p"},"Fetcher<E>")," parameter to allow upper layer business logic to decide.   "),(0,o.kt)("h3",{id:"write-new-bookrepository"},"Write New BookRepository"),(0,o.kt)("p",null,"Now, this ",(0,o.kt)("inlineCode",{parentName:"p"},"BookRepository")," no longer meets our requirements. Because we no longer want to query Jimmer entities, but want to query DTO types automatically generated by the DTO language, we need to modify it.  "),(0,o.kt)("p",null,"However, we want ",(0,o.kt)("inlineCode",{parentName:"p"},"BookRepository")," to still maintain the excellent quality of exposing shape control externally. The modified code is as follows.  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title = "BookRepository.java"',title:!0,"":"",'"BookRepository.java"':!0},"@Component\npublic class BookRepository {\n\n    private final JSqlClient sqlClient;  \n\n    public BookRepository(JSqlClient sqlClient) {\n        this.sqlClient = sqlClient;\n    }\n\n    @Nullable\n    public <V extends View<Book>> V findBookById( \u2776\n        long id,  \n        // highlight-next-line \n        Class<V> viewType \u2777\n    ) {\n        return sqlClient.findById(\n            viewType, \u2778   \n            id\n        );\n    }\n\n    public <V extends View<Book>> List<V> findBooksByName( \u2779\n        @Nullable String name,\n        // highlight-next-line\n        Class<V> viewType \u277a\n    ) {\n        BookTable table = Tables.BOOK_TABLE;\n        return sqlClient\n            .createQuery(table)\n            .whereIf(\n                name != null && !name.isEmpty(),   \n                table.name().ilike(name)\n            )\n            .select(\n                table.fetch(viewType) \u277b\n            )\n            .execute();\n    }\n} \n"))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookRepository.kt"',title:'"BookRepository.kt"'},"@Component  \nclass BookRepository(\n    private val sqlClient: KSqlClient  \n) {\n\n    fun <V: View<Book>> findBookById( \u2776\n        id: Long,    \n        // highlight-next-line\n        viewType: KClass<V> \u2777\n    ): V? =    \n        sqlClient.findById(\n            viewType, \u2778\n            id\n        )\n\n    fun <V: View<Book>> findBooksByName(  \u2779\n        name: String? = null,\n        // highlight-next-line \n        viewType: KClass<V>  \u277a\n    ): List<V> =   \n        sqlClient  \n            .createQuery(Book::class) {\n                name?.takeIf { it.isNotEmpty() }?.let {\n                    where(table.name ilike it)\n                }\n                select(\n                    table.fetch(viewType) \u277b\n                )\n            }  \n}\n")))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2776 \u2779: ",(0,o.kt)("inlineCode",{parentName:"p"},"<V extends View<Book>>")," in java or ",(0,o.kt)("inlineCode",{parentName:"p"},"<V: View<Book>>")," in kotlin defines a generic parameter ",(0,o.kt)("inlineCode",{parentName:"p"},"V")," representing any Output DTO type based on ",(0,o.kt)("inlineCode",{parentName:"p"},"Book"),".  "),(0,o.kt)("p",{parentName:"li"},"For example: ",(0,o.kt)("inlineCode",{parentName:"p"},"SimpleBookView")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"ComplexBookView")," generated above implement the ",(0,o.kt)("inlineCode",{parentName:"p"},"View<Book>")," interface.  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2777 \u277a: Use the type of any DTO based on ",(0,o.kt)("inlineCode",{parentName:"p"},"Book")," as a parameter.  "),(0,o.kt)("p",{parentName:"li"},"The return type varies with the change of the parameter type to achieve querying any DTO type and hand over the decision of the DTO type to the upper caller.  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2778 \u277b: Let Jimmer query data of the specified type  "),(0,o.kt)("admonition",{parentName:"li",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The DTO type internally includes a ",(0,o.kt)("inlineCode",{parentName:"p"},"Fetcher")," matching the shape. First, entity data structures matching the shape are queried through this ",(0,o.kt)("inlineCode",{parentName:"p"},"Fetcher"),", and then automatically converted to DTO types.  ")))),(0,o.kt)("h3",{id:"try-new-bookrepository"},"Try New BookRepository"),(0,o.kt)("p",null,"Take ",(0,o.kt)("inlineCode",{parentName:"p"},"bookRepository.findById")," as an example  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Query relatively simple ",(0,o.kt)("inlineCode",{parentName:"p"},"SimpleBookView"),"  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},"System.out.println(\n    bookRepository.findBookById(\n        1L,     \n        // highlight-next-line\n        SimpleBookView.class\n    )\n);\n"))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},"println(\n    bookRepository.findBookById(\n        1L,     \n        // highlight-next-line\n        SimpleBookView::class\n    )\n)\n")))),(0,o.kt)("p",{parentName:"li"},"Print output:  "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},"// highlight-next-line\nSimpleBookView(\n    id=1,  \n    name=Learning GraphQL\n)\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Query relatively complex ",(0,o.kt)("inlineCode",{parentName:"p"},"ComplexBookView"),"  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-java"},"System.out.println(\n    bookRepository.findBookById(\n        1L,     \n        // highlight-next-line\n        ComplexBookView.class\n    )\n);\n"))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},"println(\n    bookRepository.findBookById(\n        1L,     \n        // highlight-next-line\n        ComplexBookView::class\n    )\n)\n")))),(0,o.kt)("p",{parentName:"li"},"Print output:  "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},"// highlight-next-line\nComplexBookView(\n    id=1,  \n    name=Learning GraphQL,   \n    edition=1,   \n    price=50.0,    \n    // highlight-next-line\n    store=ComplexBookView.TargetOf_store(\n        id=1,     \n        name=O'REILLY\n    ),    \n    authors=[\n        // highlight-next-line\n        ComplexBookView.TargetOf_authors(\n            id=1,   \n            firstName=Eve,    \n            lastName=Procello\n        ),\n        // highlight-next-line\n        ComplexBookView.TargetOf_authors(\n            id=2,   \n            firstName=Alex,   \n            lastName=Banks\n        )\n    ]\n)\n")))),(0,o.kt)("h2",{id:"write-bookcontroller"},"Write BookController"),(0,o.kt)("p",null,"Although the DTO language is more suitable for Java/Kotlin applications to use query results internally, you can also use them as return information for HTTP APIs without any difference from using ordinary POJOs.  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="BookController.java"',title:'"BookController.java"'},'@RestController  \npublic class BookController implements Fetchers {  \n\n    private final BookRepository bookRepository;  \n\n    public BookController(BookRepository bookRepository) {\n        this.bookRepository = bookRepository;\n    }   \n\n    @Nullable\n    @GetMapping("/book/{id}")\n    public ComplexBookView findBookById(@PathVariable("id") long id) {\n        return bookRepository.findBookById(\n            id,     \n            // highlight-next-line\n            ComplexBookView.class\n        );\n    }\n\n    @GetMapping("/books")\n    public List<SimpleBookView> findBooksByName(\n            @RequestParam(name = "name", required = false) String name\n    ) {\n        return bookRepository.findBooksByName(\n            name,\n            // highlight-next-line     \n            SimpleBookView.class\n        );\n    }\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="BookController.kt"',title:'"BookController.kt"'},'@RestController\nclass BookController(\n    private val bookRepository: BookRepository  \n) {  \n    @GetMapping("/book/{id}")\n    fun findBookById(\n        @PathVariable id: Long\n    ): ComplexBookView =  \n        bookRepository.findBookById(\n            id,     \n            // highlight-next-line     \n            ComplexBookView::class\n        )\n\n    @GetMapping("/books")\n    fun findBooksByName(  \n            @RequestParam(required = false) name: String  \n    ): List<SimpleBookView> =  \n        bookRepository.findBooksByName(\n            name,\n            // highlight-next-line     \n            SimpleBookView::class\n        )  \n}\n')))),(0,o.kt)("h2",{id:"document-comments"},"Document Comments"),(0,o.kt)("p",null,"In the ",(0,o.kt)("a",{parentName:"p",href:"./entity"},"previous article"),", we mentioned that Jimmer can copy the document comments in Java/Kotlin code to the client Api, whether it is OpenApi online documentation or generated TypeScript code."),(0,o.kt)("p",null,"The method introduced in this article has the same functionality, but it needs to be explained that the types and properties in the DTO language support document comments like Java/Kotlin types, so the DTO language can override Java/Kotlin document comments. For example, the original entity definition is as follows"),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"//highlight-start\n/**\n * The book entity\n */\n//highlight-end\n@Entity\npublic interface Book {\n\n    //highlight-start\n    /**\n     * The name of book entity\n     */\n    //highlight-end\n    String name();\n\n    ...Omit other members...\n}\n"))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin"},"//highlight-start\n/**\n * The book entity\n */ \n//highlight-end\n@Entity\ninterface Book {\n\n    //highlight-start\n    /**\n     * The name of book entity\n     */\n    //highlight-end\n    val price: BigDecimal\n\n    ...Omit other members...\n}\n")))),(0,o.kt)("p",null,"The document comments here are the original document comments."),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"/jimmer-doc/docs/object/view/dto-language"},"DTO Language")," also supports document comments. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Book.Dto"',title:'"Book.Dto"'},"export com.yourcompany.yourproject.model.Book  \n    -> package com.yourcompany.yourproject.model.dto\n\n//highlight-start  \n/**\n * Simple book dto\n */ \n//highlight-end\nSimpleBookView {\n\n    //highlight-start\n    /**\n     * The name of simple book dto\n     */\n    //highlight-end  \n    name\n\n    ...Omit other members...\n}\n\n...Omit other DTO definitions...\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The document comment of the ",(0,o.kt)("a",{parentName:"p",href:"/jimmer-doc/docs/object/view/dto-language"},"DTO Language")," has higher priority.   "),(0,o.kt)("p",{parentName:"admonition"},"That is, the document comments in the DTO language can override the document comments of the original entity, finally it is used to generate OpenApi documentation or TypeScript code.  ")),(0,o.kt)("h2",{id:"flat-association-id"},"Flat Association ID"),(0,o.kt)("p",null,"If the associated object only has the ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," property, the associated Id will be better than the associated object. For example:  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Using associated objects will lead to a large number of objects with only id properties, making the results slightly redundant:  "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "id": 1, \n    "name": "Learning GraphQL",\n    "edition": 1,\n    "price": 50.00, \n    "store": {  \n        // highlight-next-line\n        "id": 1  \n    },\n    "authors": [{\n        // highlight-next-line  \n        "id": 1\n    }, {\n        // highlight-next-line\n        "id": 2 \n    }]\n}\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Using associated Ids makes the results relatively concise:  "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "id": 1,\n    "name": "Learning GraphQL", \n    "edition": 1,\n    "price": 50.00,  \n    // highlight-next-line\n    "storeId": 1, \n    // highlight-next-line\n    "authorIds": [1, 2]  \n}\n')))),(0,o.kt)("p",null,"If you choose to return DTO ",(0,o.kt)("em",{parentName:"p"},"(instead of directly returning entities as in ",(0,o.kt)("a",{parentName:"em",href:"./entity"},"the previous article"),")"),", you can define the following DTO code:  "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:'language-title="Book.dto"'},"export com.yourcompany.yourproject.model.Book  \n        -> package com.yourcompany.yourproject.model.dto\n\nShallowBookView {  \n    #allScalars(this)  \n    #highlight-next-line\n    id(store)\n    #highlight-next-line  \n    id(authors) as authorIds  \n}  \n\n...Omit other DTO definitions...\n")),(0,o.kt)("p",null,"After compilation, the following code is generated:  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="ShallowBookView.java"',title:'"ShallowBookView.java"'},'// highlight-next-line\n@GeneratedBy(  \n        file = "<yourproject>/src/main/dto/Book.dto"  \n)\npublic class ShallowBookView implements View<Book> {  \n    \n    private long id;  \n\n    @NotNull  \n    private String name;  \n\n    private int edition;  \n\n    @NotNull\n    private BigDecimal price;  \n\n    @Nullable\n    // highlight-next-line\n    private Long storeId;  \n\n    @NotNull\n    // highlight-next-line\n    private List<Long> authorIds;  \n\n    ...Omit other members...\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="ShallowBookView.kt"',title:'"ShallowBookView.kt"'},'// highlight-next-line  \n@GeneratedBy(  \n        file = "<yourproject>/src/main/dto/Book.dto"  \n)\ndata class ShallowBookView(\n    val id: Long,\n    val name: String,\n    val edition: Int,\n    val price: BigDecimal, \n    // highlight-next-line\n    val storeId: Long?,\n    // highlight-next-line\n    val authorIds: List<Long>  \n): View<Book> {   \n    ...Omit other members...      \n}\n')))),(0,o.kt)("h2",{id:"flat-associated-objects"},"Flat Associated Objects"),(0,o.kt)("p",null,"A large part of server development teams will deal with a type of frontend development team who do not accept data structures composed of associated multiple objects, and only want to accept a huge single object. So they require all non-collection associations to be flattened. That is:  "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"They do not accept structured return information:  "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "prop1": 1,\n    "prop2": 2, \n    "a": {\n        "prop1": 3,\n        "prop2": 4, \n        "b": {\n            "prop1": 5,\n            "prop2": 6,  \n        }\n    },\n    "c": {\n        "prop1": 7, \n        "prop2": 8,\n        "d": {\n            "prop1": 9,\n            "prop2": 10,\n        }   \n    }\n}\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Insist on asking for such flat data:    "),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{    \n    "prop1": 1,    \n    "prop2": 2,    \n    "aProp1": 3,    \n    "aProp2": 4,    \n    "aBProp1": 5,   \n    "abProp2": 6,    \n    "cProp1": 7,    \n    "cProp2": 8,    \n    "cdProp1": 9,    \n    "cdProp2": 10   \n}\n')))),(0,o.kt)("p",null,"In fact, such flat non-structured data is a disaster for client programs that need state management. But such frontend teams only do UI rendering without state management, so they do not realize this problem and insist on it very much.   "),(0,o.kt)("p",null,"When you can't argue but need to complete the task quickly, write DTO code as follows:   "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh",metastring:'title="Book.dto"',title:'"Book.dto"'},"export com.yourcompany.yourproject.model.Book  \n    -> package com.yourcompany.yourproject.model.dto\n\nFlatBookView {  \n    #allScalars(this)  \n    flat(store) { \u2776\n        as(^ -> store) { \u2777  \n            #allScalar(this)  \n        }\n    }  \n}  \n\n...Omit other DTO definitions...\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2776 The ",(0,o.kt)("inlineCode",{parentName:"p"},"flat")," function means to flatten the properties of the associated object pointed to by the ",(0,o.kt)("inlineCode",{parentName:"p"},"Book.store")," one-to-many association to the current object.  ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2777 For the properties of the associated object, the property name needs to be changed after being flattened to the current object. Prefix the old property name with ",(0,o.kt)("inlineCode",{parentName:"p"},"store"),". For example, ",(0,o.kt)("inlineCode",{parentName:"p"},"name")," -> ",(0,o.kt)("inlineCode",{parentName:"p"},"storeName"),".   "))),(0,o.kt)("p",null,"After compilation, the following code is generated:  "),(0,o.kt)(i.Z,{groupId:"language",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="FlatBookView.java"',title:'"FlatBookView.java"'},'// highlight-next-line\n@GeneratedBy(  \n        file = "<yourproject>/src/main/dto/Book.dto"  \n)\npublic class FlatBookView implements View<Book> {    \n    \n    private long id;  \n\n    @NotNull\n    private String name;  \n\n    private int edition;  \n\n    @NotNull\n    private BigDecimal price;  \n\n    @Nullable\n    // highlight-next-line  \n    private Long storeId;  \n\n    @Nullable\n    // highlight-next-line\n    private String storeName;  \n\n    @Nullable\n    // highlight-next-line\n    private String storeWebsite;  \n\n    ...Omit other members...\n}\n'))),(0,o.kt)(l.Z,{value:"kotlin",label:"Kotlin",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="FlatBookView.kt"',title:'"FlatBookView.kt"'},'// highlight-next-line  \n@GeneratedBy(  \n        file = "<yourproject>/src/main/dto/Book.dto"  \n)\ndata class FlatBookView(  \n    val id: Long,\n    val name: String,\n    val edition: Int,\n    val price: BigDecimal,\n    // highlight-next-line\n    val storeId: Long?,\n    // highlight-next-line\n    val storeName: String?,\n    // highlight-next-line\n    val storeWebsite: String?\n): View<Book> {  \n    ...Omit other members...     \n}\n')))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Here, the flattened properties are all nullable, because the ",(0,o.kt)("inlineCode",{parentName:"p"},"Book.store")," association itself allows null.")))}u.isMDXComponent=!0},64608:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/association-cache-dbeabc0a449a23469331c7bd822e1540.webp"},29148:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/calculated-cache-b73a5f78ce1bc73348621025d583aa47.webp"},68393:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/cloud-4029a49b29895e2ef7f199be53c647c8.webp"},86116:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/consistency-782cc1bfaf8d5f2c50a6cf4fd290c383.webp"},74513:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/dto-explosion-f0066fdbe10e41d79a21628460e40468.webp"},78706:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/generated-java-32e67690ba94b4f0d63bbd248844dd71.webp"},55666:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/generated-kt-2d53fe7a5ad2ee91828171f07954eea8.webp"},12036:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/webp;base64,UklGRlwDAABXRUJQVlA4WAoAAAAoAAAAIwAAHwAASUNDUBQCAAAAAAIUYXBwbAQAAABtbnRyUkdCIFhZWiAH5wADABkAEgA3ABdhY3NwQVBQTAAAAABBUFBMAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWFwcGzwmkVkcoBXfc7VHI8vo5G3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApkZXNjAAAA/AAAAGVjcHJ0AAABZAAAACN3dHB0AAABiAAAABRyWFlaAAABnAAAABRnWFlaAAABsAAAABRiWFlaAAABxAAAABRyVFJDAAAB2AAAABBjaGFkAAAB6AAAACxiVFJDAAAB2AAAABBnVFJDAAAB2AAAABBkZXNjAAAAAAAAAAtVMjdVMkc2UjRCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHRleHQAAAAAQ29weXJpZ2h0IEFwcGxlIEluYy4sIDIwMjMAAFhZWiAAAAAAAADz2AABAAAAARYIWFlaIAAAAAAAAHLJAAA6rAAAAZFYWVogAAAAAAAAXQgAALT9AAAPUFhZWiAAAAAAAAAnBQAAEFYAAMJMcGFyYQAAAAAAAAAAAAH2BHNmMzIAAAAAAAELtwAABZb///NXAAAHKQAA/df///u3///9pgAAA9oAAMD2VlA4IK4AAABQBgCdASokACAAPo04mEelIyKhMBVdUKARiWIAxPLgLf/smI7f4opUf8y4Na5nNiiOM9fdUSb/n/4qAAD+76lTf73FZ+2hhhPQzsV9rZahOwFWYzUW6kNtghYCTvo/PpeTwWM9j+YlVt+tUxq84FN9eUFzu7J4H42kzR6StHV7YV1WZG+EvIW3H4gjv94UShhqQ2cvrX/y91uP4+a/hCq3skB3vjdta+qP9EVAAABFWElGbAAAAE1NACoAAAAIAAQBGgAFAAAAAQAAAD4BGwAFAAAAAQAAAEYBKAADAAAAAQACAACHaQAEAAAAAQAAAE4AAAAAAAAAkAAAAAEAAACQAAAAAQACoAIABAAAAAEAAAAkoAMABAAAAAEAAAAgAAAAAA=="},34502:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/graphiql-headers-676e3ff2a6da158f8a8b2b0d43633896.webp"},71876:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/multi-view-cache-57a9e6ec32df6b23eceac9376d0268d1.webp"},61278:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/object-cache-5a67daa9966fe7b728af64423333ba74.webp"},68555:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/qq-group-0f9be0ea42cca1506ad211af4ad0dbc3.webp"},91059:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/save-d37c62a7516ccbf2bc561f935cf77de2.webp"},66003:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/shape-ba5246fcd39e013ea28a73144614bd9d.webp"},65048:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/swagger-authorize-144b7e355d1d59381a6fa660b743e2a7.webp"},55515:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/api-2a7966c9db85aec24ae0d1fe0cb62c17.webp"},20466:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/code-bfdfb727fb3ccc54d12fe6a4c5ddc58f.webp"},98272:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/family-b9c1857991f5f8d662444aa9f6e2b85f.webp"},27557:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/field-05834b18f87cfe96cfd1d1a72750e9e5.webp"},69339:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/webp;base64,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"}}]);